<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Memory - Maikor Docs</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Introduction</a></li><li class="chapter-item expanded "><a href="basics.html"><strong aria-hidden="true">1.</strong> Maikor ASM Basics</a></li><li class="chapter-item expanded "><a href="graphics.html"><strong aria-hidden="true">2.</strong> Graphics</a></li><li class="chapter-item expanded "><a href="bytes.html"><strong aria-hidden="true">3.</strong> Bytes</a></li><li class="chapter-item expanded "><a href="mem.html" class="active"><strong aria-hidden="true">4.</strong> Memory</a></li><li class="chapter-item expanded "><a href="stack.html"><strong aria-hidden="true">5.</strong> Stack</a></li><li class="chapter-item expanded "><a href="game_file.html"><strong aria-hidden="true">6.</strong> Game File</a></li><li class="chapter-item expanded "><a href="reg_values.html"><strong aria-hidden="true">7.</strong> Register values</a></li><li class="chapter-item expanded "><a href="ops.html"><strong aria-hidden="true">8.</strong> Instructions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ops/inc.html"><strong aria-hidden="true">8.1.</strong> INC</a></li><li class="chapter-item expanded "><a href="ops/dec.html"><strong aria-hidden="true">8.2.</strong> DEC</a></li><li class="chapter-item expanded "><a href="ops/swap.html"><strong aria-hidden="true">8.3.</strong> SWAP</a></li><li class="chapter-item expanded "><a href="ops/add.html"><strong aria-hidden="true">8.4.</strong> ADD</a></li><li class="chapter-item expanded "><a href="ops/sub.html"><strong aria-hidden="true">8.5.</strong> SUB</a></li><li class="chapter-item expanded "><a href="ops/mul.html"><strong aria-hidden="true">8.6.</strong> MUL</a></li><li class="chapter-item expanded "><a href="ops/div.html"><strong aria-hidden="true">8.7.</strong> DIV</a></li><li class="chapter-item expanded "><a href="ops/muls.html"><strong aria-hidden="true">8.8.</strong> MULS</a></li><li class="chapter-item expanded "><a href="ops/divs.html"><strong aria-hidden="true">8.9.</strong> DIVS</a></li><li class="chapter-item expanded "><a href="ops/jmp.html"><strong aria-hidden="true">8.10.</strong> JMP</a></li><li class="chapter-item expanded "><a href="ops/je.html"><strong aria-hidden="true">8.11.</strong> JE</a></li><li class="chapter-item expanded "><a href="ops/jne.html"><strong aria-hidden="true">8.12.</strong> JNE</a></li><li class="chapter-item expanded "><a href="ops/jl.html"><strong aria-hidden="true">8.13.</strong> JL</a></li><li class="chapter-item expanded "><a href="ops/jg.html"><strong aria-hidden="true">8.14.</strong> JG</a></li><li class="chapter-item expanded "><a href="ops/jle.html"><strong aria-hidden="true">8.15.</strong> JLE</a></li><li class="chapter-item expanded "><a href="ops/jge.html"><strong aria-hidden="true">8.16.</strong> JGE</a></li><li class="chapter-item expanded "><a href="ops/jbc.html"><strong aria-hidden="true">8.17.</strong> JBC</a></li><li class="chapter-item expanded "><a href="ops/jbs.html"><strong aria-hidden="true">8.18.</strong> JBS</a></li><li class="chapter-item expanded "><a href="ops/cmp.html"><strong aria-hidden="true">8.19.</strong> CMP</a></li><li class="chapter-item expanded "><a href="ops/cmps.html"><strong aria-hidden="true">8.20.</strong> CMPS</a></li><li class="chapter-item expanded "><a href="ops/mswp.html"><strong aria-hidden="true">8.21.</strong> MSWP</a></li><li class="chapter-item expanded "><a href="ops/mcpy.html"><strong aria-hidden="true">8.22.</strong> MCPY</a></li><li class="chapter-item expanded "><a href="ops/pop.html"><strong aria-hidden="true">8.23.</strong> POP</a></li><li class="chapter-item expanded "><a href="ops/push.html"><strong aria-hidden="true">8.24.</strong> PUSH</a></li><li class="chapter-item expanded "><a href="ops/jrf.html"><strong aria-hidden="true">8.25.</strong> JRF</a></li><li class="chapter-item expanded "><a href="ops/jrb.html"><strong aria-hidden="true">8.26.</strong> JRB</a></li><li class="chapter-item expanded "><a href="ops/halt.html"><strong aria-hidden="true">8.27.</strong> HALT</a></li><li class="chapter-item expanded "><a href="ops/ehalt.html"><strong aria-hidden="true">8.28.</strong> EHALT</a></li><li class="chapter-item expanded "><a href="ops/nop.html"><strong aria-hidden="true">8.29.</strong> NOP</a></li><li class="chapter-item expanded "><a href="ops/call.html"><strong aria-hidden="true">8.30.</strong> CALL</a></li><li class="chapter-item expanded "><a href="ops/ret.html"><strong aria-hidden="true">8.31.</strong> RET</a></li><li class="chapter-item expanded "><a href="ops/reti.html"><strong aria-hidden="true">8.32.</strong> RETI</a></li><li class="chapter-item expanded "><a href="ops/or.html"><strong aria-hidden="true">8.33.</strong> OR</a></li><li class="chapter-item expanded "><a href="ops/xor.html"><strong aria-hidden="true">8.34.</strong> XOR</a></li><li class="chapter-item expanded "><a href="ops/and.html"><strong aria-hidden="true">8.35.</strong> AND</a></li><li class="chapter-item expanded "><a href="ops/not.html"><strong aria-hidden="true">8.36.</strong> NOT</a></li><li class="chapter-item expanded "><a href="ops/asl.html"><strong aria-hidden="true">8.37.</strong> ASL</a></li><li class="chapter-item expanded "><a href="ops/asr.html"><strong aria-hidden="true">8.38.</strong> ASR</a></li><li class="chapter-item expanded "><a href="ops/lsr.html"><strong aria-hidden="true">8.39.</strong> LSR</a></li><li class="chapter-item expanded "><a href="ops/rol.html"><strong aria-hidden="true">8.40.</strong> ROL</a></li><li class="chapter-item expanded "><a href="ops/ror.html"><strong aria-hidden="true">8.41.</strong> ROR</a></li><li class="chapter-item expanded "><a href="ops/addc.html"><strong aria-hidden="true">8.42.</strong> ADDC</a></li><li class="chapter-item expanded "><a href="ops/subc.html"><strong aria-hidden="true">8.43.</strong> SUBC</a></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Maikor Docs</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="memory"><a class="header" href="#memory">Memory</a></h1>
<h2 id="interrupt-addresses"><a class="header" href="#interrupt-addresses">Interrupt Addresses</a></h2>
<table><thead><tr><th>Name</th><th>Description</th><th>Control Bit</th><th>Int</th><th>Hex</th><th>ASM Constant</th></tr></thead><tbody>
<tr><td>Input</td><td>Called when value at <a href="#input">Input</a> changes</td><td>0</td><td>1280</td><td>500</td><td>IRQ_INPUT</td></tr>
<tr><td>Line Drawn</td><td>Called after a line has been drawn</td><td>1</td><td>1344</td><td>540</td><td>IRQ_LINE_DRAW</td></tr>
<tr><td>Screen Drawn</td><td>Called after the screen has finished being drawn</td><td>2</td><td>1408</td><td>580</td><td>IRQ_SCREEN_DRAW</td></tr>
<tr><td>Timer</td><td>Called after a timer overflows</td><td>3</td><td>1472</td><td>5C0</td><td>IRQ_TIMER</td></tr>
<tr><td>Controller Changed</td><td>Called after the controller type changed</td><td>4</td><td>1536</td><td>600</td><td>IRQ_CONTROLLER</td></tr>
</tbody></table>
<p>Also see <a href="#interrupt-control">Interrupt control</a></p>
<h2 id="addresses"><a class="header" href="#addresses">Addresses</a></h2>
<table><thead><tr><th>Name</th><th>Description</th><th align="left">Int</th><th align="left">Hex</th><th>ASM Constant</th><th align="left">Length</th></tr></thead><tbody>
<tr><td><a href="#code">Code</a></td><td>Main game code</td><td align="left">0</td><td align="left">0</td><td><code>MAIN_CODE</code></td><td align="left">9000</td></tr>
<tr><td><a href="#banked-code-1">Banked Code 1</a></td><td>Switchable game code, controlled via <a href="#code-bank-1-id">Code Bank 1 ID</a></td><td align="left">9000</td><td align="left">2328</td><td><code>CODE_BANK_1</code></td><td align="left">4200</td></tr>
<tr><td><a href="#banked-code-2">Banked Code 2</a></td><td>Switchable game code, controlled via <a href="#code-bank-2-id">Code Bank 2 ID</a></td><td align="left">13200</td><td align="left">3390</td><td><code>CODE_BANK_2</code></td><td align="left">4200</td></tr>
<tr><td><a href="#ram">RAM</a></td><td>Main RAM</td><td align="left">17400</td><td align="left">43F8</td><td><code>RAM</code></td><td align="left">9000</td></tr>
<tr><td><a href="#banked-ram-1">Banked RAM 1</a></td><td>Switchable RAM, controlled via <a href="#ram-bank-1-id">RAM Bank 1 ID</a></td><td align="left">26400</td><td align="left">6720</td><td><code>RAM_BANK_1</code></td><td align="left">4200</td></tr>
<tr><td><a href="#banked-ram-2">Banked RAM 2</a></td><td>Switchable RAM, controlled via <a href="#ram-bank-2-id">RAM Bank 2 ID</a></td><td align="left">30600</td><td align="left">7788</td><td><code>RAM_BANK_2</code></td><td align="left">4200</td></tr>
<tr><td><a href="#input">Input</a></td><td>12 bits in 2 bytes to check if buttons are pressed</td><td align="left">34800</td><td align="left">87F0</td><td><code>INPUT</code></td><td align="left">2</td></tr>
<tr><td><a href="#sound">Sound</a></td><td>Sound control bytes</td><td align="left">34802</td><td align="left">87F2</td><td><code>SOUND</code></td><td align="left">30</td></tr>
<tr><td><a href="#save-bank-id">Save Bank ID</a></td><td>Controls which save data bank is loaded at <a href="#save-bank">Save Bank</a></td><td align="left">34832</td><td align="left">8810</td><td><code>SAVE_BANK_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="#save-bank">Save Bank</a></td><td>Switchable save data, also see <a href="#save-control">Save Control</a></td><td align="left">34833</td><td align="left">8811</td><td><code>SAVE_BANK</code></td><td align="left">4096</td></tr>
<tr><td><a href="#atlas-1">Atlas 1</a></td><td>Atlas Bank 1, controlled by <a href="#atlas-1-bank-id">Atlas 1 Bank ID</a></td><td align="left">38929</td><td align="left">9811</td><td><code>ATLAS1</code></td><td align="left">4000</td></tr>
<tr><td><a href="#atlas-2">Atlas 2</a></td><td>Atlas Bank 2, controlled by <a href="#atlas-2-bank-id">Atlas 2 Bank ID</a></td><td align="left">42929</td><td align="left">A7B1</td><td><code>ATLAS2</code></td><td align="left">4000</td></tr>
<tr><td><a href="#atlas-3">Atlas 3</a></td><td>Atlas Bank 3, controlled by <a href="#atlas-3-bank-id">Atlas 3 Bank ID</a></td><td align="left">46929</td><td align="left">B751</td><td><code>ATLAS3</code></td><td align="left">4000</td></tr>
<tr><td><a href="#atlas-4">Atlas 4</a></td><td>Atlas Bank 4, controlled by <a href="#atlas-4-bank-id">Atlas 4 Bank ID</a></td><td align="left">50929</td><td align="left">C6F1</td><td><code>ATLAS4</code></td><td align="left">4000</td></tr>
<tr><td><a href="#palettes">Palettes</a></td><td>4 palettes, each made of 15 colors (3 bytes)</td><td align="left">54929</td><td align="left">D691</td><td><code>PALETTES</code></td><td align="left">180</td></tr>
<tr><td><a href="#sprite-table">Sprite Table</a></td><td>Table of 255 sprites, made of 5 bytes each</td><td align="left">55121</td><td align="left">D751</td><td><code>SPRITE_TABLE</code></td><td align="left">1275</td></tr>
<tr><td><a href="#layer-headers">Layer Headers</a></td><td>Headers for the 3 background layers</td><td align="left">56396</td><td align="left">DC4C</td><td><code>LAYER_HEADERS</code></td><td align="left">9</td></tr>
<tr><td><a href="#layer-contents">Layer Contents</a></td><td>Contents for the 3 background layers</td><td align="left">56405</td><td align="left">DC55</td><td><code>LAYER_CONTENTS</code></td><td align="left">7920</td></tr>
<tr><td><a href="#code-bank-1-id">Code Bank 1 ID</a></td><td>Controls which code bank is loaded at <a href="#code-bank-1-id">Banked Code 1</a></td><td align="left">64325</td><td align="left">FB45</td><td><code>CODE_BANK_1_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="#ram-bank-1-id">RAM Bank 1 ID</a></td><td>Controls which RAM bank is loaded at <a href="#ram-bank-1-id">Banked RAM 2</a></td><td align="left">64326</td><td align="left">FB46</td><td><code>RAM_BANK_1_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="#atlas-1-bank-id">Atlas 1 Bank ID</a></td><td>Controls which atlas bank is loaded at <a href="#atlas-1">Atlas 1</a></td><td align="left">64327</td><td align="left">FB47</td><td><code>ATLAS1_BANK_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="#atlas-2-bank-id">Atlas 2 Bank ID</a></td><td>Controls which atlas bank is loaded at <a href="#atlas-2">Atlas 2</a></td><td align="left">64328</td><td align="left">FB48</td><td><code>ATLAS2_BANK_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="#atlas-3-bank-id">Atlas 3 Bank ID</a></td><td>Controls which atlas bank is loaded at <a href="#atlas-3">Atlas 3</a></td><td align="left">64329</td><td align="left">FB49</td><td><code>ATLAS3_BANK_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="#atlas-4-bank-id">Atlas 4 Bank ID</a></td><td>Controls which atlas bank is loaded at <a href="#atlas-4">Atlas 4</a></td><td align="left">64330</td><td align="left">FB4A</td><td><code>ATLAS4_BANK_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="#sp">SP</a></td><td>Stack Pointer</td><td align="left">64331</td><td align="left">FB4B</td><td><code>SP</code></td><td align="left">2</td></tr>
<tr><td><a href="#fp">FP</a></td><td>Frame Pointer</td><td align="left">64333</td><td align="left">FB4D</td><td><code>FP</code></td><td align="left">2</td></tr>
<tr><td><a href="#timer-control">Timer Control</a></td><td>Control bytes for timers</td><td align="left">64335</td><td align="left">FB4F</td><td><code>TIMER_CONTROL</code></td><td align="left">2</td></tr>
<tr><td><a href="#timer-1">Timer 1</a></td><td>Value of timer 1</td><td align="left">64337</td><td align="left">FB51</td><td><code>TIMER1</code></td><td align="left">1</td></tr>
<tr><td><a href="#timer-2">Timer 2</a></td><td>Value of timer 2</td><td align="left">64338</td><td align="left">FB52</td><td><code>TIMER2</code></td><td align="left">1</td></tr>
<tr><td><a href="#timer-3">Timer 3</a></td><td>Value of timer 3</td><td align="left">64339</td><td align="left">FB53</td><td><code>TIMER3</code></td><td align="left">1</td></tr>
<tr><td><a href="#timer-4">Timer 4</a></td><td>Value of timer 4</td><td align="left">64340</td><td align="left">FB54</td><td><code>TIMER4</code></td><td align="left">1</td></tr>
<tr><td><a href="#vline">VLine</a></td><td>Next line to be drawn</td><td align="left">64351</td><td align="left">FB5F</td><td><code>VLINE</code></td><td align="left">1</td></tr>
<tr><td><a href="#controller-type">Controller Type</a></td><td>Active controller type ID</td><td align="left">64352</td><td align="left">FB60</td><td><code>INPUT_TYPE</code></td><td align="left">1</td></tr>
<tr><td><a href="#controller-graphics">Controller Graphics</a></td><td>Graphics for controller buttons</td><td align="left">64353</td><td align="left">FB61</td><td><code>INPUT_GRAPHICS</code></td><td align="left">88</td></tr>
<tr><td><a href="#controller-palette">Controller Palette</a></td><td>Palette used when drawing controller buttons</td><td align="left">64441</td><td align="left">FBB9</td><td><code>INPUT_PALETTE</code></td><td align="left">12</td></tr>
<tr><td><a href="#controller-sprite-table">Controller Sprite Table</a></td><td>Sprite table for controller buttons</td><td align="left">64453</td><td align="left">FBC5</td><td><code>INPUT_TABLE</code></td><td align="left">27</td></tr>
<tr><td><a href="#interrupt-control">Interrupt Control</a></td><td>Control byte for interrupts</td><td align="left">64480</td><td align="left">FBE0</td><td><code>IRQ_CONTROL</code></td><td align="left">1</td></tr>
<tr><td><a href="#save-control">Save Control</a></td><td>Control byte for save data</td><td align="left">64481</td><td align="left">FBE1</td><td><code>SAVE_CONTROL</code></td><td align="left">1</td></tr>
<tr><td><a href="#date-time">Date time</a></td><td>Date time in bytes</td><td align="left">64482</td><td align="left">FBE2</td><td><code>DATETIME</code></td><td align="left">6</td></tr>
<tr><td><a href="#rand">Rand</a></td><td>Regularly changing random value</td><td align="left">64488</td><td align="left">FBE8</td><td><code>RAND</code></td><td align="left">1</td></tr>
<tr><td><a href="#wave_table">Wave Table</a></td><td>Sound wave table</td><td align="left">64489</td><td align="left">FBE9</td><td><code>WAVE_TABLE</code></td><td align="left">16</td></tr>
<tr><td><a href="#code-bank-2-id">Code Bank 2 ID</a></td><td>Controls which code bank is loaded at <a href="#code-bank-2-id">Banked Code 2</a></td><td align="left">64505</td><td align="left">FBF9</td><td><code>CODE_BANK_2_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="#ram-bank-2-id">RAM Bank 2 ID</a></td><td>Controls which RAM bank is loaded at <a href="#ram-bank-2-id">Banked RAM 2</a></td><td align="left">64506</td><td align="left">FBFA</td><td><code>RAM_BANK_2_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="#stack">Stack</a></td><td>The Stack</td><td align="left">64536</td><td align="left">FC18</td><td><code>STACK</code></td><td align="left">1000</td></tr>
</tbody></table>
<h2 id="code"><a class="header" href="#code">Code</a></h2>
<p><code>0</code> <code>x0</code> <code>MAIN_CODE</code> 9000 bytes</p>
<p>Interrupts call in this section, at these addresses:</p>
<table><thead><tr><th>Called when..</th><th>ASM</th><th>Address</th></tr></thead><tbody>
<tr><td>a button is pressed/released</td><td><code>IRQ_INPUT</code></td><td><code>$x200</code></td></tr>
<tr><td>after screen drawn</td><td><code>IRQ_SCREEN_DRAW</code></td><td><code>$x240</code></td></tr>
<tr><td>when a timer overflows</td><td><code>IRQ_TIMER</code></td><td><code>$x260</code></td></tr>
<tr><td>controller changes</td><td><code>IRQ_CONTROLLER</code></td><td><code>$x280</code></td></tr>
<tr><td>date time changes by more than 1 second</td><td><code>IRQ_DATETIME</code></td><td><code>$x2A0</code></td></tr>
</tbody></table>
<h2 id="banked-code-1"><a class="header" href="#banked-code-1">Banked Code 1</a></h2>
<p><code>9000</code> <code>x2328</code> <code>CODE_BANK_1</code> 4200 bytes</p>
<p>Controlled with <a href="#code-bank-1-id">Code Bank 1 ID</a></p>
<h2 id="banked-code-2"><a class="header" href="#banked-code-2">Banked Code 2</a></h2>
<p><code>13200</code> <code>x3390</code> <code>CODE_BANK_2</code> 4200 bytes</p>
<p>Controlled with <a href="#code-bank-2-id">Code Bank 2 ID</a></p>
<h2 id="ram"><a class="header" href="#ram">RAM</a></h2>
<p><code>17400</code> <code>x43F8</code> <code>RAM</code> 9000 bytes</p>
<h2 id="banked-ram-1"><a class="header" href="#banked-ram-1">Banked RAM 1</a></h2>
<p><code>26400</code> <code>x6720</code> <code>RAM_BANK_1</code> 4200 bytes</p>
<p>Controlled with <a href="#ram-bank-1-id">RAM Bank 1 ID</a></p>
<h2 id="banked-ram-2"><a class="header" href="#banked-ram-2">Banked RAM 2</a></h2>
<p><code>30600</code> <code>x7788</code> <code>RAM_BANK_2</code> 4200 bytes</p>
<p>Controlled with <a href="#ram-bank-2-id">RAM Bank 2 ID</a></p>
<h2 id="input"><a class="header" href="#input">Input</a></h2>
<p><code>$34800</code> <code>$x87F0</code> <code>INPUT</code> <code>2 bytes</code>
<code>$34800</code> <code>$x87F0</code> <code>DIR_INPUT</code> <code>1 byte</code>
<code>$34801</code> <code>$x87F1</code> <code>ACTION_INPUT</code> <code>1 byte</code></p>
<p>Bits are set to true when the button is pressed, and cleared when it's released.
This has to be polled, to get an interrupt set the input bit in <a href="#interrupt-control">Interrupt control</a> and code at <a href="#interrupt-addresses">Interrupts</a>.</p>
<h4 id="byte-0"><a class="header" href="#byte-0">Byte 0</a></h4>
<table><thead><tr><th>Bit</th><th>Name</th></tr></thead><tbody>
<tr><td>7</td><td>Up</td></tr>
<tr><td>6</td><td>Down</td></tr>
<tr><td>5</td><td>Left</td></tr>
<tr><td>4</td><td>Right</td></tr>
</tbody></table>
<h4 id="byte-1"><a class="header" href="#byte-1">Byte 1</a></h4>
<table><thead><tr><th>Bit</th><th>Name</th></tr></thead><tbody>
<tr><td>7</td><td>A</td></tr>
<tr><td>6</td><td>B</td></tr>
<tr><td>5</td><td>START</td></tr>
<tr><td>4</td><td>L</td></tr>
<tr><td>3</td><td>R</td></tr>
<tr><td>2</td><td>X</td></tr>
<tr><td>1</td><td>Y</td></tr>
</tbody></table>
<h2 id="sound"><a class="header" href="#sound">Sound</a></h2>
<p><code>34802</code> <code>x87F2</code> <code>SOUND</code> 30 bytes</p>
<p>Maikor is mostly compatible with the Gameboy sound system.</p>
<p><strong>Square 1</strong></p>
<table><thead><tr><th>Name</th><th>Address</th><th>Format</th><th>Description</th><th>Gameboy reg</th></tr></thead><tbody>
<tr><td><code>SQ1_0</code></td><td><code>87F2</code></td><td><code>-PPP NSSS</code></td><td>Sweep <strong>p</strong>eriod, <strong>N</strong>egate, <strong>S</strong>hift</td><td>NR10</td></tr>
<tr><td><code>SQ1_1</code></td><td><code>87F3</code></td><td><code>DDLL LLLL</code></td><td><strong>D</strong>uty, <strong>L</strong>ength load</td><td>NR11</td></tr>
<tr><td><code>SQ1_2</code></td><td><code>87F4</code></td><td><code>VVVV APPP</code></td><td>Starting <strong>V</strong>olume, Envelope <strong>a</strong>dd mode, <strong>p</strong>eriod</td><td>NR12</td></tr>
<tr><td><code>SQ1_3</code></td><td><code>87F5</code></td><td><code>FFFF FFFF</code></td><td><strong>F</strong>requency LSB</td><td>NR13</td></tr>
<tr><td><code>SQ1_4</code></td><td><code>87F6</code></td><td><code>TL-- -FFF</code></td><td><strong>T</strong>rigger, <strong>L</strong>ength enable, <strong>F</strong>requency MSB</td><td>NR14</td></tr>
</tbody></table>
<p><strong>Square 2</strong></p>
<table><thead><tr><th>Name</th><th>Address</th><th>Format</th><th>Description</th><th>Gameboy reg</th></tr></thead><tbody>
<tr><td><code>SQ2_1</code></td><td><code>87F8</code></td><td><code>DDLL LLLL</code></td><td><strong>D</strong>uty, <strong>L</strong>ength load</td><td>NR21</td></tr>
<tr><td><code>SQ2_2</code></td><td><code>87F9</code></td><td><code>VVVV APPP</code></td><td>Starting <strong>V</strong>olume, Envelope <strong>a</strong>dd mode, <strong>p</strong>eriod</td><td>NR22</td></tr>
<tr><td><code>SQ2_3</code></td><td><code>87FA</code></td><td><code>FFFF FFFF</code></td><td><strong>F</strong>requency LSB</td><td>NR23</td></tr>
<tr><td><code>SQ2_4</code></td><td><code>87FB</code></td><td><code>TL-- -FFF</code></td><td><strong>T</strong>rigger, <strong>L</strong>ength enable, <strong>F</strong>requency MSB</td><td>NR24</td></tr>
</tbody></table>
<p><strong>Wave</strong></p>
<table><thead><tr><th>Name</th><th>Address</th><th>Format</th><th>Description</th><th>Gameboy reg</th></tr></thead><tbody>
<tr><td><code>WC_0</code></td><td><code>87FC</code></td><td><code>E--- ----</code></td><td><strong>E</strong>nable</td><td>NR30</td></tr>
</tbody></table>
<p><strong>Noise</strong></p>
<table><thead><tr><th>Name</th><th>Address</th><th>Format</th><th>Description</th><th>Gameboy reg</th></tr></thead><tbody>
<tr><td><code>NC_0</code></td><td><code>8802</code></td><td><code>--LL LLLL</code></td><td><strong>L</strong>ength load</td><td>NR41</td></tr>
</tbody></table>
<p><strong>Control</strong></p>
<table><thead><tr><th>Name</th><th>Address</th><th>Format</th><th>Description</th><th>Gameboy reg</th></tr></thead><tbody>
<tr><td><code>SND_V</code></td><td><code>8806</code></td><td><code>-LLL -RRR</code></td><td><strong>L</strong>eft volume, <strong>R</strong>ight volume</td><td>NR50</td></tr>
<tr><td><code>SND_B</code></td><td><code>8807</code></td><td><code>LLLL RRRR</code></td><td><strong>L</strong>eft balance, <strong>R</strong> balance</td><td>NR51</td></tr>
<tr><td><code>SND_P</code></td><td><code>8808</code></td><td><code>P--- ????</code></td><td><strong>P</strong>ower</td><td>NR52</td></tr>
</tbody></table>
<h2 id="save-bank-id"><a class="header" href="#save-bank-id">Save Bank ID</a></h2>
<p><code>34832</code> <code>x8810</code> <code>SAVE_BANK_ID</code> 1 byte</p>
<p>Controls which save data bank is loaded at <a href="#save-bank">Save Bank</a>. Changing this value immediately loads the data.</p>
<p>Valid values are 0-15.</p>
<h2 id="save-bank"><a class="header" href="#save-bank">Save Bank</a></h2>
<p><code>34833</code> <code>x8811</code> <code>SAVE_BANK</code> 4096 bytes</p>
<p>Save data for the game. Games can use all bytes in all banks however they want.</p>
<p>See <a href="#save-control">Save Control</a></p>
<h2 id="atlas-1"><a class="header" href="#atlas-1">Atlas 1</a></h2>
<p><code>38929</code> <code>x9811</code> <code>ATLAS1</code> 4000 bytes</p>
<h2 id="atlas-2"><a class="header" href="#atlas-2">Atlas 2</a></h2>
<p><code>42929</code> <code>xB751</code> <code>ATLAS2</code> 4000 bytes</p>
<h2 id="atlas-3"><a class="header" href="#atlas-3">Atlas 3</a></h2>
<p><code>46929</code> <code>x9811</code> <code>ATLAS3</code> 4000 bytes</p>
<h2 id="atlas-4"><a class="header" href="#atlas-4">Atlas 4</a></h2>
<p><code>50929</code> <code>xB751</code> <code>ATLAS4</code> 4000 bytes</p>
<h2 id="palettes"><a class="header" href="#palettes">Palettes</a></h2>
<p><code>54929</code> <code>xD691</code> <code>PALETTES</code> 192 bytes</p>
<p><code>54929</code> <code>xD691</code> 48 bytes Palette 1
<code>54989</code> <code>xD6CD</code> 48 bytes Palette 2
<code>55049</code> <code>xD709</code> 48 bytes Palette 3
<code>55049</code> <code>xD709</code> 48 bytes Palette 3</p>
<p>Each palette is made of 16 3 byte RGB colors.</p>
<h2 id="sprite-table"><a class="header" href="#sprite-table">Sprite Table</a></h2>
<p><code>55121</code> <code>xD751</code> <code>SPRITE_TABLE</code> 1275 bytes</p>
<p>255 </p>
<h2 id="layer-headers"><a class="header" href="#layer-headers">Layer Headers</a></h2>
<p><code>56396</code> <code>xDC4C</code> <code>LAYER_HEADERS</code> 9 bytes</p>
<h2 id="layer-contents"><a class="header" href="#layer-contents">Layer Contents</a></h2>
<p><code>56405</code> <code>xDC55</code> <code>LAYER_CONTENTS</code> 7920 bytes</p>
<h2 id="code-bank-1-id"><a class="header" href="#code-bank-1-id">Code Bank 1 ID</a></h2>
<p><code>64325</code> <code>xFB45</code> <code>CODE_BANK_1_ID</code> 1 byte</p>
<p>Controls which code bank is loaded at <a href="#code-bank-1">Code bank 1</a>. Changing this value immediately loads the code; this is done by copying data from the bank into main memory, it takes several milliseconds.</p>
<p>Valid values are the number of code banks included in the game.</p>
<h2 id="ram-bank-1-id"><a class="header" href="#ram-bank-1-id">RAM Bank 1 ID</a></h2>
<p><code>64326</code> <code>xFB46</code> <code>RAM_BANK_1_ID</code> 1 byte</p>
<p>Controls which RAM bank is loaded at <a href="#ram-bank-1">RAM bank 1</a>. Changing this value immediately loads the data; this is done by copying data from the bank into main memory, it takes several milliseconds.</p>
<p>Valid values are the number of RAM banks requested by the game.</p>
<h2 id="atlas-1-bank-id"><a class="header" href="#atlas-1-bank-id">Atlas 1 Bank ID</a></h2>
<p><code>64327</code> <code>xFB47</code> <code>ATLAS1_BANK_ID</code> 1 byte</p>
<p>Controls which atlas bank is loaded at <a href="#atlas-1">Atlas 1</a>. Changing this value immediately loads the data.</p>
<p>Valid values are the number of atlas banks included in the game.</p>
<h2 id="atlas-2-bank-id"><a class="header" href="#atlas-2-bank-id">Atlas 2 Bank ID</a></h2>
<p><code>64328</code> <code>xFB48</code> <code>ATLAS2_BANK_ID</code> 1 byte</p>
<p>Controls which atlas bank is loaded at <a href="#atlas-2">Atlas 2</a>. Changing this value immediately loads the data.</p>
<p>Valid values are the number of atlas banks included in the game.</p>
<h2 id="sp"><a class="header" href="#sp">SP</a></h2>
<p><code>64329</code> <code>xFB49</code> <code>SP</code> 2 bytes</p>
<p>Points to the end of the <a href="#stack">Stack</a></p>
<h2 id="fp"><a class="header" href="#fp">FP</a></h2>
<p><code>64331</code> <code>xFB4B</code> <code>FP</code> 2 bytes</p>
<p>Points to the start of the current in the <a href="#stack">Stack</a></p>
<h2 id="timer-control"><a class="header" href="#timer-control">Timer Control</a></h2>
<p><code>64333</code> <code>xFB4D</code> <code>TIMER_CONTROL</code> 2 bytes</p>
<h2 id="timer-1"><a class="header" href="#timer-1">Timer 1</a></h2>
<p><code>64335</code> <code>xFB4F</code> <code>TIMER1</code> 1 byte</p>
<h2 id="timer-2"><a class="header" href="#timer-2">Timer 2</a></h2>
<p><code>64336</code> <code>xFB50</code> <code>TIMER2</code> 1 byte</p>
<h2 id="timer-3"><a class="header" href="#timer-3">Timer 3</a></h2>
<p><code>64337</code> <code>xFB51</code> <code>TIMER3</code> 1 byte</p>
<h2 id="timer-4"><a class="header" href="#timer-4">Timer 4</a></h2>
<p><code>64338</code> <code>xFB52</code> <code>TIMER4</code> 1 byte</p>
<h2 id="vline"><a class="header" href="#vline">VLine</a></h2>
<p><code>64349</code> <code>xFB5D</code> <code>VLINE</code> 1 byte</p>
<p>Line (0-159) on the screen that be drawn next. It is automatically updated by the host before it calls <code>IRQ_LINE_DRAW</code>.</p>
<h2 id="controller-type"><a class="header" href="#controller-type">Controller Type</a></h2>
<p><code>64350</code> <code>xFB5E</code> <code>INPUT_TYPE</code> 1 byte</p>
<p>ID of current active controller type.</p>
<p>This is set automatically by the host. Updating it will cause the controller graphics to load.</p>
<table><thead><tr><th>Name</th><th>Value</th><th>Description</th></tr></thead><tbody>
<tr><td>Unknown</td><td>0</td><td>Default value, graphics should match Maikor buttons</td></tr>
<tr><td>XBOX</td><td>1</td><td>XBox controller</td></tr>
<tr><td>Playstation</td><td>2</td><td>Playstation 4/5 controller</td></tr>
<tr><td>Switch</td><td>3</td><td>Switch Pro controller</td></tr>
<tr><td>Screen</td><td>4</td><td>Touch screen controls</td></tr>
<tr><td>Keyboard 1</td><td>5</td><td>WASD+IOKL keys</td></tr>
<tr><td>Keyboard 2</td><td>6</td><td>UDLR+QWAS keys</td></tr>
<tr><td>Keyboard 3</td><td>7</td><td>?+? keys</td></tr>
<tr><td>Keyboard 4</td><td>8</td><td>?+? keys</td></tr>
</tbody></table>
<h2 id="controller-graphics"><a class="header" href="#controller-graphics">Controller Graphics</a></h2>
<p><code>64351</code> <code>xFB5F</code> <code>INPUT_GRAPHICS</code> 88 bytes</p>
<h2 id="controller-palette"><a class="header" href="#controller-palette">Controller Palette</a></h2>
<p><code>64439</code> <code>xFBB7</code> <code>INPUT_PALETTE</code> 12 bytes</p>
<h2 id="controller-sprite-table"><a class="header" href="#controller-sprite-table">Controller Sprite Table</a></h2>
<p><code>64451</code> <code>xFBC3</code> <code>INPUT_TABLE</code> 24 bytes</p>
<h2 id="interrupt-control"><a class="header" href="#interrupt-control">Interrupt Control</a></h2>
<p><code>64475</code> <code>xFBDB</code> <code>IRQ_CONTROL</code> 1 byte</p>
<p>Control byte for interrupts, if a bit is set then that interrupt can be called.</p>
<table><thead><tr><th>Name</th><th>Bit</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>Input</td><td>0</td><td>1</td><td>Call <code>IRQ_INPUT</code> when <a href="#input">Input</a> changes</td></tr>
<tr><td>Line Drawn</td><td>1</td><td>0</td><td>Call <code>IRQ_LINE_DRAW</code> when a line has been drawn to the screen</td></tr>
<tr><td>Screen Drawn</td><td>2</td><td>0</td><td>Call <code>IRQ_SCREEN_DRAW</code> when last last has been drawn to the screen</td></tr>
<tr><td>Timer</td><td>3</td><td>0</td><td>Call <code>IRQ_TIMER</code> when any timer overflows</td></tr>
<tr><td>Controller Changed</td><td>4</td><td>0</td><td>Call <code>IRQ_CONTROLLER</code> when the controller type changes</td></tr>
</tbody></table>
<h2 id="save-control"><a class="header" href="#save-control">Save Control</a></h2>
<p><code>64476</code> <code>xFBDC</code> <code>SAVE_CONTROL</code> 1 byte</p>
<table><thead><tr><th>Name</th><th>Bit</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>Auto save</td><td>4</td><td>0</td><td>When set, any value written to <a href="#save-bank">Save Bank</a> is also written to disk</td></tr>
<tr><td>Write</td><td>0</td><td>0</td><td>When set, the host will write <a href="#save-bank">Save Bank</a> to disk and then clear the bit. If it remains set then the save fail, and may be retried (although most likely the issue will be permissions, etc and retrying won't help)</td></tr>
</tbody></table>
<h2 id="date-time"><a class="header" href="#date-time">Date time</a></h2>
<p><code>64477</code> <code>xFBDD</code> <code>DATETIME</code> 6 bytes</p>
<p>This updates during each second and so may be up to 1 second off.</p>
<table><thead><tr><th>Name</th><th>Byte</th><th>Range</th><th>Description</th></tr></thead><tbody>
<tr><td>Year</td><td>0</td><td>0-255</td><td>Covers years 2000-2255</td></tr>
<tr><td>Month</td><td>1</td><td>1-12</td><td>January = 1, December = 12</td></tr>
<tr><td>Day</td><td>2</td><td>1-31</td><td>Day of month</td></tr>
<tr><td>Hour</td><td>3</td><td>0-23</td><td>Hour of day</td></tr>
<tr><td>Minute</td><td>4</td><td>0-59</td><td>Minute of hour</td></tr>
<tr><td>Second</td><td>5</td><td>0-59</td><td>Second of minute</td></tr>
</tbody></table>
<h2 id="rand"><a class="header" href="#rand">Rand</a></h2>
<p><code>64483</code> <code>xFBE3</code> <code>RAND</code> 1 byte</p>
<p>This byte contains a random value that updates regularly. It should not be used for secure/cryptographic purposes.</p>
<h2 id="code-bank-2-id"><a class="header" href="#code-bank-2-id">Code Bank 2 ID</a></h2>
<p><code>64325</code> <code>xFB45</code> <code>CODE_BANK_2_ID</code> 1 byte</p>
<p>Controls which code bank is loaded at <a href="#code-bank-2">Code bank 2</a>. Changing this value immediately loads the code; this is done by copying data from the bank into main memory, it takes several milliseconds.</p>
<p>Valid values are the number of code banks included in the game.</p>
<h2 id="ram-bank-2-id"><a class="header" href="#ram-bank-2-id">RAM Bank 2 ID</a></h2>
<p><code>64326</code> <code>xFB46</code> <code>RAM_BANK_2_ID</code> 1 byte</p>
<p>Controls which RAM bank is loaded at <a href="#ram-bank-2">RAM bank 2</a>. Changing this value immediately loads the data; this is done by copying data from the bank into main memory, it takes several milliseconds.</p>
<p>Valid values are the number of RAM banks requested by the game.</p>
<h2 id="stack"><a class="header" href="#stack">Stack</a></h2>
<p><code>64635</code> <code>xFC71</code> <code>STACK</code> 900 bytes</p>
<p>The stack grows upwards from xFC71 to xFFFF.</p>
<h2 id="reserved"><a class="header" href="#reserved">Reserved</a></h2>
<p><code>64327</code> <code>xFB47</code> <code>-</code> 10 bytes
<code>64465</code> <code>xFBE4</code> <code>-</code> 151 bytes</p>
<p>Do not change or rely on values in this space.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="bytes.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="stack.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="bytes.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="stack.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
