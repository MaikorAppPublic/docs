<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Maikor Docs</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Introduction</a></li><li class="chapter-item expanded "><a href="basics.html"><strong aria-hidden="true">1.</strong> Maikor ASM Basics</a></li><li class="chapter-item expanded "><a href="graphics.html"><strong aria-hidden="true">2.</strong> Graphics</a></li><li class="chapter-item expanded "><a href="bytes.html"><strong aria-hidden="true">3.</strong> Bytes</a></li><li class="chapter-item expanded "><a href="mem.html"><strong aria-hidden="true">4.</strong> Memory</a></li><li class="chapter-item expanded "><a href="stack.html"><strong aria-hidden="true">5.</strong> Stack</a></li><li class="chapter-item expanded "><a href="game_file.html"><strong aria-hidden="true">6.</strong> Game File</a></li><li class="chapter-item expanded "><a href="reg_values.html"><strong aria-hidden="true">7.</strong> Register values</a></li><li class="chapter-item expanded "><a href="ops.html"><strong aria-hidden="true">8.</strong> Instructions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ops/inc.html"><strong aria-hidden="true">8.1.</strong> INC</a></li><li class="chapter-item expanded "><a href="ops/dec.html"><strong aria-hidden="true">8.2.</strong> DEC</a></li><li class="chapter-item expanded "><a href="ops/swap.html"><strong aria-hidden="true">8.3.</strong> SWAP</a></li><li class="chapter-item expanded "><a href="ops/add.html"><strong aria-hidden="true">8.4.</strong> ADD</a></li><li class="chapter-item expanded "><a href="ops/sub.html"><strong aria-hidden="true">8.5.</strong> SUB</a></li><li class="chapter-item expanded "><a href="ops/mul.html"><strong aria-hidden="true">8.6.</strong> MUL</a></li><li class="chapter-item expanded "><a href="ops/div.html"><strong aria-hidden="true">8.7.</strong> DIV</a></li><li class="chapter-item expanded "><a href="ops/muls.html"><strong aria-hidden="true">8.8.</strong> MULS</a></li><li class="chapter-item expanded "><a href="ops/divs.html"><strong aria-hidden="true">8.9.</strong> DIVS</a></li><li class="chapter-item expanded "><a href="ops/jmp.html"><strong aria-hidden="true">8.10.</strong> JMP</a></li><li class="chapter-item expanded "><a href="ops/je.html"><strong aria-hidden="true">8.11.</strong> JE</a></li><li class="chapter-item expanded "><a href="ops/jne.html"><strong aria-hidden="true">8.12.</strong> JNE</a></li><li class="chapter-item expanded "><a href="ops/jl.html"><strong aria-hidden="true">8.13.</strong> JL</a></li><li class="chapter-item expanded "><a href="ops/jg.html"><strong aria-hidden="true">8.14.</strong> JG</a></li><li class="chapter-item expanded "><a href="ops/jle.html"><strong aria-hidden="true">8.15.</strong> JLE</a></li><li class="chapter-item expanded "><a href="ops/jge.html"><strong aria-hidden="true">8.16.</strong> JGE</a></li><li class="chapter-item expanded "><a href="ops/jbc.html"><strong aria-hidden="true">8.17.</strong> JBC</a></li><li class="chapter-item expanded "><a href="ops/jbs.html"><strong aria-hidden="true">8.18.</strong> JBS</a></li><li class="chapter-item expanded "><a href="ops/cmp.html"><strong aria-hidden="true">8.19.</strong> CMP</a></li><li class="chapter-item expanded "><a href="ops/cmps.html"><strong aria-hidden="true">8.20.</strong> CMPS</a></li><li class="chapter-item expanded "><a href="ops/mswp.html"><strong aria-hidden="true">8.21.</strong> MSWP</a></li><li class="chapter-item expanded "><a href="ops/mcpy.html"><strong aria-hidden="true">8.22.</strong> MCPY</a></li><li class="chapter-item expanded "><a href="ops/pop.html"><strong aria-hidden="true">8.23.</strong> POP</a></li><li class="chapter-item expanded "><a href="ops/push.html"><strong aria-hidden="true">8.24.</strong> PUSH</a></li><li class="chapter-item expanded "><a href="ops/jrf.html"><strong aria-hidden="true">8.25.</strong> JRF</a></li><li class="chapter-item expanded "><a href="ops/jrb.html"><strong aria-hidden="true">8.26.</strong> JRB</a></li><li class="chapter-item expanded "><a href="ops/halt.html"><strong aria-hidden="true">8.27.</strong> HALT</a></li><li class="chapter-item expanded "><a href="ops/ehalt.html"><strong aria-hidden="true">8.28.</strong> EHALT</a></li><li class="chapter-item expanded "><a href="ops/nop.html"><strong aria-hidden="true">8.29.</strong> NOP</a></li><li class="chapter-item expanded "><a href="ops/call.html"><strong aria-hidden="true">8.30.</strong> CALL</a></li><li class="chapter-item expanded "><a href="ops/ret.html"><strong aria-hidden="true">8.31.</strong> RET</a></li><li class="chapter-item expanded "><a href="ops/reti.html"><strong aria-hidden="true">8.32.</strong> RETI</a></li><li class="chapter-item expanded "><a href="ops/or.html"><strong aria-hidden="true">8.33.</strong> OR</a></li><li class="chapter-item expanded "><a href="ops/xor.html"><strong aria-hidden="true">8.34.</strong> XOR</a></li><li class="chapter-item expanded "><a href="ops/and.html"><strong aria-hidden="true">8.35.</strong> AND</a></li><li class="chapter-item expanded "><a href="ops/not.html"><strong aria-hidden="true">8.36.</strong> NOT</a></li><li class="chapter-item expanded "><a href="ops/asl.html"><strong aria-hidden="true">8.37.</strong> ASL</a></li><li class="chapter-item expanded "><a href="ops/asr.html"><strong aria-hidden="true">8.38.</strong> ASR</a></li><li class="chapter-item expanded "><a href="ops/lsr.html"><strong aria-hidden="true">8.39.</strong> LSR</a></li><li class="chapter-item expanded "><a href="ops/rol.html"><strong aria-hidden="true">8.40.</strong> ROL</a></li><li class="chapter-item expanded "><a href="ops/ror.html"><strong aria-hidden="true">8.41.</strong> ROR</a></li><li class="chapter-item expanded "><a href="ops/addc.html"><strong aria-hidden="true">8.42.</strong> ADDC</a></li><li class="chapter-item expanded "><a href="ops/subc.html"><strong aria-hidden="true">8.43.</strong> SUBC</a></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Maikor Docs</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="maikor"><a class="header" href="#maikor">Maikor</a></h1>
<blockquote>
<p>A cross-platform 16-bit style game platform</p>
</blockquote>
<p><strong>Work in progress</strong></p>
<h2 id="links"><a class="header" href="#links">Links</a></h2>
<p><a href="https://maikor.app">Website</a></p>
<p><a href="https://github.com/MaikorAppPublic">Project Homepage</a></p>
<p><a href="https://play.vm.maikor.app">REPL</a></p>
<h2 id="specifications"><a class="header" href="#specifications">Specifications</a></h2>
<ul>
<li>Screen size: 240x160 pixels</li>
<li>30MHz (~14M ops/sec) (8 byte registers, combinable into 4 word registers)</li>
<li>4 way direction, start button, 4 action buttons, 2 shoulder buttons</li>
<li>16 saves per game (4KB each)</li>
</ul>
<p><strong>Memory</strong></p>
<ul>
<li>17KB RAM (8.5KB Banked)</li>
<li>17KB Code (8.5KB Banked)</li>
<li>Max 255 sprites on screen</li>
<li>Screen is 30x20 tiles</li>
<li>3 Background layers (44x30 tiles)</li>
<li>2 Atlases, each is 25x20 tiles</li>
<li>4 timers</li>
</ul>
<h2 id="main-pages"><a class="header" href="#main-pages">Main pages</a></h2>
<p><a href="./ops.html">Instructions</a></p>
<p><a href="./basics.html">Maikor ASM Basics</a></p>
<p><a href="./bytes.html">Bytes</a></p>
<p><a href="./mem.html">Memory</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maikor-asm-basics"><a class="header" href="#maikor-asm-basics">Maikor ASM Basics</a></h1>
<h2 id="add-two-numbers"><a class="header" href="#add-two-numbers">Add two numbers</a></h2>
<pre><code>cpy.b ah, 5   # set AH to 5
cpy.b al, 9   # set AL to 9
add.b ah, al  # set AH to AH + AL
</code></pre>
<h2 id="add-a-series-of-numbers-from-memory"><a class="header" href="#add-a-series-of-numbers-from-memory">Add a series of numbers from memory</a></h2>
<blockquote>
<p>Assume starting at $2000 are the numbers 100,100,100,200,300,400</p>
</blockquote>
<pre><code>		cpy.w dx, 2000    # set DX to 2000
loop: 	cpy.b al, (dx)+   # set AL to value at address in DX, then increment DX by 1
		add.w bx, ax      # set BX to AX + BX
		cmp.b dx, 2005    # compare DX and 2005
		jne loop          # if the numbers were not equal, jump to loop
</code></pre>
<p>At the end <code>bx</code> will be set to 1200. </p>
<p>Normally there's no way to add a byte to a word, but by loading the byte into a lower register (e.g. AL) and setting the higher (AH) to 0, then the extended register (AX) allows the byte to be used a word.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="graphics"><a class="header" href="#graphics">Graphics</a></h1>
<p>Maikor uses a tile/sprite based system, tiles are 8x8 pixels and can have up to 16 colors. 
It has 3 background layers, each one stores 44x30 tiles (although only 30x20 can be seen at once) and can show up to 256 sprites on screen at once.</p>
<p>Tile data is stored in the 4 atlas banks, each one can store up to 250 tiles. As each pixel can only be 1 of 16 colors, the pixels are stored 2 per byte. So, tiles take up 32 bytes in the atlas.</p>
<blockquote>
<p><strong>Important</strong> The first on screen pixel is at 8,8. If the first two bytes are 0 then the sprite will be drawn entirely off screen, except for the last two pixels on the last row.</p>
</blockquote>
<p>Although a sprite may only use 16 colors, it has choice of up to 4 palettes to use for color.
Sprites are controlled via the sprite table which sets their position, palette, etc.</p>
<p>Palettes store their colors as red, green, blue x 16 bytes.</p>
<h2 id="memory"><a class="header" href="#memory">Memory</a></h2>
<h3 id="atlases"><a class="header" href="#atlases">Atlases</a></h3>
<table><thead><tr><th>Atlas</th><th>Dec</th><th>Hex</th><th>ASM</th></tr></thead><tbody>
<tr><td>1</td><td><code>38929</code></td><td><code>x9811</code></td><td><code>ATLAS1</code></td></tr>
<tr><td>2</td><td><code>42929</code></td><td><code>x9811</code></td><td><code>ATLAS2</code></td></tr>
<tr><td>3</td><td><code>46929</code></td><td><code>x9811</code></td><td><code>ATLAS3</code></td></tr>
<tr><td>4</td><td><code>50929</code></td><td><code>x9811</code></td><td><code>ATLAS4</code></td></tr>
</tbody></table>
<p>Each atlas stores 250 8x8 tiles, the tiles are packed by row and pixels are packed 2 per byte:</p>
<pre><code>At $38929:

Pixel 1 of Tile 1           
|             Pixel 9 of Tile 1
|             |			
00 00  00 00  00 00  00 00  00 00  00 00
 |
 | 
 Pixel 2 of Tile 1
</code></pre>
<p>or put another away:</p>
<pre><code>38929 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 # Tile 1, rows 1 - 4
38945 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 # Tile 1, rows 5 - 8
38961 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 # Tile 2, rows 1 - 4
38977 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 # Tile 2, rows 5 - 8
</code></pre>
<p>So for atlas 1, tile 0 is at 38929 and then tile 1 is at 38961, and so on.</p>
<h3 id="palettes"><a class="header" href="#palettes">Palettes</a></h3>
<table><thead><tr><th>Atlas</th><th>Dec</th><th>Hex</th><th>ASM</th></tr></thead><tbody>
<tr><td>1</td><td><code>54929</code></td><td><code>xD691</code></td><td><code>PALETTE1</code></td></tr>
<tr><td>2</td><td>``</td><td><code>x</code></td><td><code>PALETTE2</code></td></tr>
<tr><td>3</td><td><code>55049</code></td><td><code>x</code></td><td><code>PALETTE3</code></td></tr>
<tr><td>4</td><td>``</td><td><code>x</code></td><td><code>PALETTE4</code></td></tr>
</tbody></table>
<pre><code>At $54929:
Red value for color 1     Blue value for color 3
||                        ||
00 00 00  00 00 00  00 00 00
   || 
   Green value for color 1 
</code></pre>
<p>or put another way:</p>
<pre><code>54929 00 00 00 # Palette 1, color 1
54932 00 00 00 # Palette 1, color 2
54935 00 00 00 # Palette 1, color 3
...
55049 00 00 00 # Palette 3, color 1
</code></pre>
<h3 id="sprites"><a class="header" href="#sprites">Sprites</a></h3>
<p>Each sprite is controlled by 5 bytes:</p>
<table><thead><tr><th>Byte</th><th>Description</th></tr></thead><tbody>
<tr><td>0</td><td>X Pixel</td></tr>
<tr><td>1</td><td>Y Pixel</td></tr>
<tr><td>2</td><td>Tile ID</td></tr>
<tr><td>3</td><td>Options 1</td></tr>
<tr><td>4</td><td>Options 2</td></tr>
</tbody></table>
<p><strong>Options 1</strong></p>
<table><thead><tr><th>Bit</th><th>Length</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>0</td><td>1</td><td>FLIP_V</td><td>If set, sprite is drawn vertically flipped</td></tr>
<tr><td>1</td><td>1</td><td>FLIP_H</td><td>If set, sprite is drawn horizontally flipped</td></tr>
<tr><td>2</td><td>1</td><td>HALF_ALPHA</td><td>If set, sprite is drawn partially transparent</td></tr>
<tr><td>3</td><td>1</td><td>ROTATED</td><td>If set, sprite is drawn rotated by 90 degrees</td></tr>
<tr><td>7</td><td>1</td><td>ENABLED</td><td>If set, sprite is drawn, otherwise it is skipped</td></tr>
</tbody></table>
<p><strong>Options 2</strong></p>
<table><thead><tr><th>Bit</th><th>Length</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>0</td><td>1</td><td>LARGE</td><td>If set, sprite is drawn using 4 tiles starting at Tile ID</td></tr>
<tr><td>1</td><td>2</td><td>ORDER</td><td>Order to draw sprite compared to background and other sprites, 0 is on top (values: 0 - 3)</td></tr>
<tr><td>3</td><td>2</td><td>ATLAS</td><td>ID of atlas to use (values: 0 - 3)</td></tr>
<tr><td>6</td><td>2</td><td>PALETTE</td><td>ID of palette to use (values: 0 - 3)</td></tr>
</tbody></table>
<p>Sprite data is stored at <code>55121</code> <code>xD751</code> <code>SPRITE_TABLE</code>, sprite 0 is at 55121, sprite 1 is at 55156, etc</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bytes"><a class="header" href="#bytes">Bytes</a></h1>
<h2 id="instructions"><a class="header" href="#instructions">Instructions</a></h2>
<table><thead><tr><th></th><th align="center">x0</th><th align="center">x1</th><th align="center">x2</th><th align="center">x3</th><th align="center">x4</th><th align="center">x5</th><th align="center">x6</th><th align="center">x7</th><th align="center">x8</th><th align="center">x9</th><th align="center">xA</th><th align="center">xB</th><th align="center">xC</th><th align="center">xD</th><th align="center">xE</th><th align="center">xF</th></tr></thead><tbody>
<tr><td>0x</td><td align="center">NOP</td><td align="center">HALT</td><td align="center">CALL<br>(A)</td><td align="center">CALL<br>(E) (I)</td><td align="center">RET</td><td align="center">RETI</td><td align="center">SWAP.B<br>(R,R)</td><td align="center">SWAP.W<br>(R,R)</td><td align="center">MCPY<br>(A,A,B)</td><td align="center">MCPY<br>(A,E,B) (A,I,B)</td><td align="center">MCPY<br>(E,A,B) (I,A,B)</td><td align="center">MCPY<br>(E,E,B) (I,E,B) (E,I,B) (I,I,B)</td><td align="center">MCPY<br>(A,A,R) (A,A,I)</td><td align="center">MCPY<br>(A,E,R) (A,I,R) (A,E,I) (A,I,I)</td><td align="center">MCPY<br>(E,A,R) (I,A,R) (E,A,I) (I,A,I)</td><td align="center">MCPY<br>(E,E,R) (I,E,R)<br>(E,I,R) (I,I,R)<br>(E,E,I) (I,E,I)<br>(E,I,I) (I,I,I)</td></tr>
<tr><td>1x</td><td align="center">CPY.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">CPY.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">CPY.B<br>(A,R) (A,I)</td><td align="center">CPY.W<br>(A,E) (A,I)</td><td align="center">CPY.B<br>(R,A) (I,A)</td><td align="center">CPY.W<br>(E,A) (I,A)</td><td align="center">CPY.B<br>(A,A)</td><td align="center">CPY.W<br>(A,A)</td><td align="center">CPY.B<br>(R,B) (I,B)</td><td align="center">CPY.W<br>(E,W) (I,w)</td><td align="center">CPY.B<br>(A,B)</td><td align="center">CPY.W<br>(A,W)</td><td align="center">CMP.B<br>(R,A) (I,A)</td><td align="center">CMP.W<br>(E,A) (I,A)</td><td align="center">CMPS.B<br>(R,A) (I,A)</td><td align="center">CMPS.W<br>(E,A) (I,A)</td></tr>
<tr><td>2x</td><td align="center">ADD.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">ADD.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">ADD.B<br>(R,B) (I,B)</td><td align="center">ADD.W<br>(E,W) (I,W)</td><td align="center">ADD.B<br>(R,A) (I,A)</td><td align="center">ADD.W<br>(E,A) (I,A)</td><td align="center">ADD.B<br>(A,R) (A,I)</td><td align="center">ADD.W<br>(A,E) (A,I)</td><td align="center">ADD.B<br>(A,B)</td><td align="center">ADD.W<br>(A,W)</td><td align="center">ADD.B<br>(A,A)</td><td align="center">ADD.W<br>(A,A)</td><td align="center">INC.B<br>(R) (I)</td><td align="center">INC.W<br>(E) (I)</td><td align="center">INC.B<br>(A)</td><td align="center">INC.W<br>(A)</td></tr>
<tr><td>3x</td><td align="center">SUB.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">SUB.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">SUB.B<br>(R,B) (I,B)</td><td align="center">SUB.W<br>(E,W) (I,W)</td><td align="center">SUB.B<br>(R,A) (I,A)</td><td align="center">SUB.W<br>(E,A) (I,A)</td><td align="center">SUB.B<br>(A,R) (A,I)</td><td align="center">SUB.W<br>(A,E) (A,I)</td><td align="center">SUB.B<br>(A,B)</td><td align="center">SUB.W<br>(A,W)</td><td align="center">SUB.B<br>(A,A)</td><td align="center">SUB.W<br>(A,A)</td><td align="center">DEC.B<br>(R) (I)</td><td align="center">DEC.W<br>(E) (I)</td><td align="center">DEC.B<br>(A)</td><td align="center">DEC.W<br>(A)</td></tr>
<tr><td>4x</td><td align="center">NOT.B<br>(R) (I)</td><td align="center">NOT.W<br>(E) (I)</td><td align="center">OR.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">OR.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">OR.B<br>(R,B) (I,B)</td><td align="center">OR.W<br>(E,W) (I,W)</td><td align="center">XOR.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">XOR.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">XOR.B<br>(R,B) (I,B)</td><td align="center">XOR.W<br>(E,W) (I,W)</td><td align="center">AND.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">AND.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">AND.B<br>(R,B) (I,B)</td><td align="center">AND.W<br>(E,W) (I,W)</td><td align="center">JRF<br>(B)</td><td align="center">JRB<br>(B)</td></tr>
<tr><td>5x</td><td align="center">ASL.B<br>(R,B) (I,B)</td><td align="center">ASL.W<br>(E,W) (I,W)</td><td align="center">ASL.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">ASL.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">ASL.B<br>(A)</td><td align="center">ASL.W<br>(A)</td><td align="center">ASR.B<br>(R,B) (I,B)</td><td align="center">ASR.W<br>(E,W) (I,W)</td><td align="center">ASR.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">ASR.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">ASR.B<br>(A)</td><td align="center">ASR.W<br>(A)</td><td align="center">LSR.B<br>(R,B) (I,B)</td><td align="center">LSR.W<br>(E,W) (I,W)</td><td align="center">LSR.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">LSR.W<br>(E,E) (E,I) (I,E) (I,I)</td></tr>
<tr><td>6x</td><td align="center">LSR.B<br>(A)</td><td align="center">LSR.W<br>(A)</td><td align="center">ROL.B<br>(R,B) (I,B)</td><td align="center">ROL.W<br>(E,W) (I,W)</td><td align="center">ROL.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">ROL.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">ROL.B<br>(A)</td><td align="center">ROL.W<br>(A)</td><td align="center">ROR.B<br>(R,B) (I,B)</td><td align="center">ROR.W<br>(E,W) (I,W)</td><td align="center">ROR.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">ROR.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">ROR.B<br>(A)</td><td align="center">ROR.W<br>(A)</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td>7x</td><td align="center">PUSH.B<br>(R) (I)</td><td align="center">PUSH.W<br>(E) (I)</td><td align="center">PUSH.B<br>(B)</td><td align="center">PUSH.W<br>(W)</td><td align="center">POP.B<br>(R) (I)</td><td align="center">POP.W<br>(W) (I)</td><td align="center">MSWP<br>(E,E,R) (I,E,R)<br>(E,I,R) (I,I,R)<br>(E,E,I) (I,E,I)<br>(E,I,I) (I,I,I)</td><td align="center">MSWP<br>(R,R,B) (R,I,B) (I,R,B) (I,I,B)</td><td align="center">MSWP<br>(R,A,R) (R,A,I) (I,A,R) (I,A,I)</td><td align="center">MSWP<br>(R,A,B) (I,A,B)</td><td align="center">MSWP<br>(A,R,R) (A,R,I) (A,I,R) (A,I,I)</td><td align="center">MSWP<br>(A,R,B) (A,I,B)</td><td align="center">MSWP<br>(A,A,B)</td><td align="center">MSWP<br>(A,A,I) (A,A,R)</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td>8x</td><td align="center">MUL.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">MUL.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">MUL.B<br>(R,B) (I,B)</td><td align="center">MUL.W<br>(E,W) (I,W)</td><td align="center">MUL.B<br>(R,A) (I,A)</td><td align="center">MUL.W<br>(E,A) (I,A)</td><td align="center">MUL.B<br>(A,R) (A,I)</td><td align="center">MUL.W<br>(A,E) (A,I)</td><td align="center">MUL.B<br>(A,B)</td><td align="center">MUL.W<br>(A,W)</td><td align="center">MUL.B<br>(A,A)</td><td align="center">MUL.W<br>(A,A)</td><td align="center">MULS.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">MULS.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">MULS.B<br>(R,B) (I,B)</td><td align="center">MULS.W<br>(E,W) (I,W)</td></tr>
<tr><td>9x</td><td align="center">MULS.B<br>(R,A) (I,A)</td><td align="center">MULS.W<br>(E,A) (I,A)</td><td align="center">MULS.B<br>(A,R) (A,I)</td><td align="center">MULS.W<br>(A,E) (A,I)</td><td align="center">MULS.B<br>(A,B)</td><td align="center">MULS.W<br>(A,W)</td><td align="center">MULS.B<br>(A,A)</td><td align="center">MULS.W<br>(A,A)</td><td align="center">DIV.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">DIV.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">DIV.B<br>(R,B) (I,B)</td><td align="center">DIV.W<br>(E,W) (I,W)</td><td align="center">DIV.B<br>(R,A) (I,A)</td><td align="center">DIV.W<br>(E,A) (I,A)</td><td align="center">DIV.B<br>(A,R) (A,I)</td><td align="center">DIV.W<br>(A,E) (A,I)</td></tr>
<tr><td>Ax</td><td align="center">DIV.B<br>(A,B)</td><td align="center">DIV.W<br>(A,W)</td><td align="center">DIV.B<br>(A,A)</td><td align="center">DIV.W<br>(A,A)</td><td align="center">DIVS.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">DIVS.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">DIVS.B<br>(R,B) (I,B)</td><td align="center">DIVS.W<br>(E,W) (I,W)</td><td align="center">DIVS.B<br>(R,A) (I,A)</td><td align="center">DIVS.W<br>(E,A) (I,A)</td><td align="center">DIVS.B<br>(A,R) (A,I)</td><td align="center">DIVS.W<br>(A,E) (A,I)</td><td align="center">DIVS.B<br>(A,B)</td><td align="center">DIVS.W<br>(A,W)</td><td align="center">DIVS.B<br>(A,A)</td><td align="center">DIVS.W<br>(A,A)</td></tr>
<tr><td>Bx</td><td align="center">JMP<br>(A)</td><td align="center">JMP<br>(E) (I)</td><td align="center">JE<br>(A)</td><td align="center">JE<br>(E) (I)</td><td align="center">JNE<br>(A)</td><td align="center">JNE<br>(E) (I)</td><td align="center">JL<br>(A)</td><td align="center">JL<br>(E) (I)</td><td align="center">JG<br>(A)</td><td align="center">JG<br>(E) (I)</td><td align="center">JLE<br>(A)</td><td align="center">JLE<br>(E) (I)</td><td align="center">JGE<br>(A)</td><td align="center">JGE<br>(E) (I)</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td>Cx</td><td align="center">CMP.B<br>(R,B) (I,B)</td><td align="center">CMP.W<br>(E,W) (I,W)</td><td align="center">CMP.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">CMP.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">CMPS.B<br>(R,B) (I,B)</td><td align="center">CMPS.W<br>(E,W) (I,W)</td><td align="center">CMPS.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">CMPS.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">JBC<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">JBS<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">JBC<br>(A,R) (A,I)</td><td align="center">JBS<br>(A,R) (A,I)</td><td align="center">JBC<br>(R,B) (I,B)</td><td align="center">JBS<br>(R,B) (I,B)</td><td align="center">JBC<br>(A,B)</td><td align="center">JBS<br>(A,B)</td></tr>
<tr><td>Dx</td><td align="center">RCL.B<br>(R,B) (I,B)</td><td align="center">RCL.W<br>(E,W) (I,W)</td><td align="center">RCL.B<br>(R,I) (I,R) (R,R) (I,I)</td><td align="center">RCL.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">RCL.B<br>(A)</td><td align="center">RCL.W<br>(A)</td><td align="center">RCR.B<br>(R,B) (I,B)</td><td align="center">RCR.W<br>(E,W) (I,W)</td><td align="center">RCR.B<br>(R,I) (I,R) (R,R) (I,I)</td><td align="center">RCR.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">RCR.B<br>(A)</td><td align="center">RCR.W<br>(A)</td><td align="center">-</td><td align="center">-</td><td align="center"></td><td align="center"></td></tr>
<tr><td>Ex</td><td align="center">ADDC.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">ADDC.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">ADDC.B<br>(R,B) (I,B)</td><td align="center">ADDC.W<br>(E,W) (I,W)</td><td align="center">ADDC.B<br>(R,A) (I,A)</td><td align="center">ADDC.W<br>(E,A) (I,A)</td><td align="center">ADDC.B<br>(A,R) (A,I)</td><td align="center">ADDC.W<br>(A,E) (A,I)</td><td align="center">ADDC.B<br>(A,B)</td><td align="center">ADDC.W<br>(A,W)</td><td align="center">ADDC.B<br>(A,A)</td><td align="center">ADDC.W<br>(A,A)</td><td align="center">SUBC.B<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">SUBC.W<br>(E,E) (E,I) (I,E) (I,I)</td><td align="center">SUBC.B<br>(R,B) (I,B)</td><td align="center">SUBC.W<br>(E,W) (I,W)</td></tr>
<tr><td>Fx</td><td align="center">SUBC.B<br>(R,A) (I,A)</td><td align="center">SUBC.W<br>(E,A) (I,A)</td><td align="center">SUBC.B<br>(A,R) (A,I)</td><td align="center">SUBC.W<br>(A,E) (A,I)</td><td align="center">SUBC.B<br>(A,B)</td><td align="center">SUBC.W<br>(A,W)</td><td align="center">SUBC.B<br>(A,A)</td><td align="center">SUBC.W<br>(A,A)</td><td align="center">BMUL<br>(A,A)</td><td align="center">BMUL<br>(A,B)</td><td align="center">BMUL<br>(A,I) (A,R)</td><td align="center">BMUL<br>(R,A) (I,A)</td><td align="center">BMUL<br>(R,B) (I,B)</td><td align="center">BMUL<br>(R,R) (I,R) (R,I) (I,I)</td><td align="center">EHALT</td><td align="center">SLEEP</td></tr>
</tbody></table>
<h2 id="registers"><a class="header" href="#registers">Registers</a></h2>
<table><thead><tr><th>Name</th><th>Value</th><th>Hex</th><th>Offset</th><th>Size</th></tr></thead><tbody>
<tr><td>AH</td><td>0</td><td>00</td><td>0</td><td>1</td></tr>
<tr><td>AL</td><td>1</td><td>01</td><td>1</td><td>1</td></tr>
<tr><td>BH</td><td>2</td><td>02</td><td>2</td><td>1</td></tr>
<tr><td>BL</td><td>3</td><td>03</td><td>3</td><td>1</td></tr>
<tr><td>CH</td><td>4</td><td>04</td><td>4</td><td>1</td></tr>
<tr><td>CL</td><td>5</td><td>05</td><td>5</td><td>1</td></tr>
<tr><td>DH</td><td>6</td><td>06</td><td>6</td><td>1</td></tr>
<tr><td>DL</td><td>7</td><td>07</td><td>7</td><td>1</td></tr>
<tr><td>FLG</td><td>8</td><td>08</td><td>8</td><td>1</td></tr>
<tr><td>AX</td><td>9</td><td>09</td><td>0</td><td>2</td></tr>
<tr><td>BX</td><td>10</td><td>0A</td><td>2</td><td>2</td></tr>
<tr><td>CX</td><td>11</td><td>0B</td><td>4</td><td>2</td></tr>
<tr><td>dX</td><td>12</td><td>0C</td><td>6</td><td>2</td></tr>
</tbody></table>
<h2 id="ppid"><a class="header" href="#ppid">PPID</a></h2>
<table><thead><tr><th>Value</th><th>Hex</th><th>Indirect</th><th>Pre</th><th>Post</th><th>Inc</th><th>Dec</th></tr></thead><tbody>
<tr><td>0</td><td>00</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td></tr>
<tr><td>128</td><td>80</td><td>x</td><td>-</td><td>-</td><td>-</td><td>-</td></tr>
<tr><td>64</td><td>40</td><td>-</td><td>-</td><td>x</td><td>x</td><td>-</td></tr>
<tr><td>80</td><td>50</td><td>-</td><td>-</td><td>x</td><td>-</td><td>x</td></tr>
<tr><td>96</td><td>60</td><td>-</td><td>x</td><td>-</td><td>x</td><td>-</td></tr>
<tr><td>112</td><td>70</td><td>-</td><td>x</td><td>-</td><td>-</td><td>x</td></tr>
<tr><td>129</td><td>C0</td><td>x</td><td>-</td><td>x</td><td>x</td><td>-</td></tr>
<tr><td>208</td><td>D0</td><td>x</td><td>-</td><td>x</td><td>-</td><td>x</td></tr>
<tr><td>224</td><td>E0</td><td>x</td><td>x</td><td>-</td><td>x</td><td>-</td></tr>
<tr><td>240</td><td>F0</td><td>x</td><td>x</td><td>-</td><td>-</td><td>x</td></tr>
</tbody></table>
<h2 id="byte-order"><a class="header" href="#byte-order">Byte Order</a></h2>
<p>Each instruction must be written in the following order:</p>
<p><code>OP ARG1 ARG2.. ARG1_OFFSET ARG2_OFFSET..</code></p>
<p>For example:</p>
<table><thead><tr><th>Instruction</th><th>Order</th><th>Bytes</th></tr></thead><tbody>
<tr><td><code>INC.B AL</code></td><td><code>OP ARG1</code></td><td><code>2C 01</code></td></tr>
<tr><td><code>ADD.W $200 (AX+10)</code></td><td><code>OP ARG1 ARG2 ARG2_OFFSET</code></td><td><code>27 00 C8 B9 00 0A</code></td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="memory-1"><a class="header" href="#memory-1">Memory</a></h1>
<h2 id="interrupt-addresses"><a class="header" href="#interrupt-addresses">Interrupt Addresses</a></h2>
<table><thead><tr><th>Name</th><th>Description</th><th>Control Bit</th><th>Int</th><th>Hex</th><th>ASM Constant</th></tr></thead><tbody>
<tr><td>Input</td><td>Called when value at <a href="mem.html#input">Input</a> changes</td><td>0</td><td>1280</td><td>500</td><td>IRQ_INPUT</td></tr>
<tr><td>Line Drawn</td><td>Called after a line has been drawn</td><td>1</td><td>1344</td><td>540</td><td>IRQ_LINE_DRAW</td></tr>
<tr><td>Screen Drawn</td><td>Called after the screen has finished being drawn</td><td>2</td><td>1408</td><td>580</td><td>IRQ_SCREEN_DRAW</td></tr>
<tr><td>Timer</td><td>Called after a timer overflows</td><td>3</td><td>1472</td><td>5C0</td><td>IRQ_TIMER</td></tr>
<tr><td>Controller Changed</td><td>Called after the controller type changed</td><td>4</td><td>1536</td><td>600</td><td>IRQ_CONTROLLER</td></tr>
</tbody></table>
<p>Also see <a href="mem.html#interrupt-control">Interrupt control</a></p>
<h2 id="addresses"><a class="header" href="#addresses">Addresses</a></h2>
<table><thead><tr><th>Name</th><th>Description</th><th align="left">Int</th><th align="left">Hex</th><th>ASM Constant</th><th align="left">Length</th></tr></thead><tbody>
<tr><td><a href="mem.html#code">Code</a></td><td>Main game code</td><td align="left">0</td><td align="left">0</td><td><code>MAIN_CODE</code></td><td align="left">9000</td></tr>
<tr><td><a href="mem.html#banked-code-1">Banked Code 1</a></td><td>Switchable game code, controlled via <a href="mem.html#code-bank-1-id">Code Bank 1 ID</a></td><td align="left">9000</td><td align="left">2328</td><td><code>CODE_BANK_1</code></td><td align="left">4200</td></tr>
<tr><td><a href="mem.html#banked-code-2">Banked Code 2</a></td><td>Switchable game code, controlled via <a href="mem.html#code-bank-2-id">Code Bank 2 ID</a></td><td align="left">13200</td><td align="left">3390</td><td><code>CODE_BANK_2</code></td><td align="left">4200</td></tr>
<tr><td><a href="mem.html#ram">RAM</a></td><td>Main RAM</td><td align="left">17400</td><td align="left">43F8</td><td><code>RAM</code></td><td align="left">9000</td></tr>
<tr><td><a href="mem.html#banked-ram-1">Banked RAM 1</a></td><td>Switchable RAM, controlled via <a href="mem.html#ram-bank-1-id">RAM Bank 1 ID</a></td><td align="left">26400</td><td align="left">6720</td><td><code>RAM_BANK_1</code></td><td align="left">4200</td></tr>
<tr><td><a href="mem.html#banked-ram-2">Banked RAM 2</a></td><td>Switchable RAM, controlled via <a href="mem.html#ram-bank-2-id">RAM Bank 2 ID</a></td><td align="left">30600</td><td align="left">7788</td><td><code>RAM_BANK_2</code></td><td align="left">4200</td></tr>
<tr><td><a href="mem.html#input">Input</a></td><td>12 bits in 2 bytes to check if buttons are pressed</td><td align="left">34800</td><td align="left">87F0</td><td><code>INPUT</code></td><td align="left">2</td></tr>
<tr><td><a href="mem.html#sound">Sound</a></td><td>Sound control bytes</td><td align="left">34802</td><td align="left">87F2</td><td><code>SOUND</code></td><td align="left">30</td></tr>
<tr><td><a href="mem.html#save-bank-id">Save Bank ID</a></td><td>Controls which save data bank is loaded at <a href="mem.html#save-bank">Save Bank</a></td><td align="left">34832</td><td align="left">8810</td><td><code>SAVE_BANK_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#save-bank">Save Bank</a></td><td>Switchable save data, also see <a href="mem.html#save-control">Save Control</a></td><td align="left">34833</td><td align="left">8811</td><td><code>SAVE_BANK</code></td><td align="left">4096</td></tr>
<tr><td><a href="mem.html#atlas-1">Atlas 1</a></td><td>Atlas Bank 1, controlled by <a href="mem.html#atlas-1-bank-id">Atlas 1 Bank ID</a></td><td align="left">38929</td><td align="left">9811</td><td><code>ATLAS1</code></td><td align="left">4000</td></tr>
<tr><td><a href="mem.html#atlas-2">Atlas 2</a></td><td>Atlas Bank 2, controlled by <a href="mem.html#atlas-2-bank-id">Atlas 2 Bank ID</a></td><td align="left">42929</td><td align="left">A7B1</td><td><code>ATLAS2</code></td><td align="left">4000</td></tr>
<tr><td><a href="mem.html#atlas-3">Atlas 3</a></td><td>Atlas Bank 3, controlled by <a href="mem.html#atlas-3-bank-id">Atlas 3 Bank ID</a></td><td align="left">46929</td><td align="left">B751</td><td><code>ATLAS3</code></td><td align="left">4000</td></tr>
<tr><td><a href="mem.html#atlas-4">Atlas 4</a></td><td>Atlas Bank 4, controlled by <a href="mem.html#atlas-4-bank-id">Atlas 4 Bank ID</a></td><td align="left">50929</td><td align="left">C6F1</td><td><code>ATLAS4</code></td><td align="left">4000</td></tr>
<tr><td><a href="mem.html#palettes">Palettes</a></td><td>4 palettes, each made of 15 colors (3 bytes)</td><td align="left">54929</td><td align="left">D691</td><td><code>PALETTES</code></td><td align="left">180</td></tr>
<tr><td><a href="mem.html#sprite-table">Sprite Table</a></td><td>Table of 255 sprites, made of 5 bytes each</td><td align="left">55121</td><td align="left">D751</td><td><code>SPRITE_TABLE</code></td><td align="left">1275</td></tr>
<tr><td><a href="mem.html#layer-headers">Layer Headers</a></td><td>Headers for the 3 background layers</td><td align="left">56396</td><td align="left">DC4C</td><td><code>LAYER_HEADERS</code></td><td align="left">9</td></tr>
<tr><td><a href="mem.html#layer-contents">Layer Contents</a></td><td>Contents for the 3 background layers</td><td align="left">56405</td><td align="left">DC55</td><td><code>LAYER_CONTENTS</code></td><td align="left">7920</td></tr>
<tr><td><a href="mem.html#code-bank-1-id">Code Bank 1 ID</a></td><td>Controls which code bank is loaded at <a href="mem.html#code-bank-1-id">Banked Code 1</a></td><td align="left">64325</td><td align="left">FB45</td><td><code>CODE_BANK_1_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#ram-bank-1-id">RAM Bank 1 ID</a></td><td>Controls which RAM bank is loaded at <a href="mem.html#ram-bank-1-id">Banked RAM 2</a></td><td align="left">64326</td><td align="left">FB46</td><td><code>RAM_BANK_1_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#atlas-1-bank-id">Atlas 1 Bank ID</a></td><td>Controls which atlas bank is loaded at <a href="mem.html#atlas-1">Atlas 1</a></td><td align="left">64327</td><td align="left">FB47</td><td><code>ATLAS1_BANK_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#atlas-2-bank-id">Atlas 2 Bank ID</a></td><td>Controls which atlas bank is loaded at <a href="mem.html#atlas-2">Atlas 2</a></td><td align="left">64328</td><td align="left">FB48</td><td><code>ATLAS2_BANK_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#atlas-3-bank-id">Atlas 3 Bank ID</a></td><td>Controls which atlas bank is loaded at <a href="mem.html#atlas-3">Atlas 3</a></td><td align="left">64329</td><td align="left">FB49</td><td><code>ATLAS3_BANK_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#atlas-4-bank-id">Atlas 4 Bank ID</a></td><td>Controls which atlas bank is loaded at <a href="mem.html#atlas-4">Atlas 4</a></td><td align="left">64330</td><td align="left">FB4A</td><td><code>ATLAS4_BANK_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#sp">SP</a></td><td>Stack Pointer</td><td align="left">64331</td><td align="left">FB4B</td><td><code>SP</code></td><td align="left">2</td></tr>
<tr><td><a href="mem.html#fp">FP</a></td><td>Frame Pointer</td><td align="left">64333</td><td align="left">FB4D</td><td><code>FP</code></td><td align="left">2</td></tr>
<tr><td><a href="mem.html#timer-control">Timer Control</a></td><td>Control bytes for timers</td><td align="left">64335</td><td align="left">FB4F</td><td><code>TIMER_CONTROL</code></td><td align="left">2</td></tr>
<tr><td><a href="mem.html#timer-1">Timer 1</a></td><td>Value of timer 1</td><td align="left">64337</td><td align="left">FB51</td><td><code>TIMER1</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#timer-2">Timer 2</a></td><td>Value of timer 2</td><td align="left">64338</td><td align="left">FB52</td><td><code>TIMER2</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#timer-3">Timer 3</a></td><td>Value of timer 3</td><td align="left">64339</td><td align="left">FB53</td><td><code>TIMER3</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#timer-4">Timer 4</a></td><td>Value of timer 4</td><td align="left">64340</td><td align="left">FB54</td><td><code>TIMER4</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#vline">VLine</a></td><td>Next line to be drawn</td><td align="left">64351</td><td align="left">FB5F</td><td><code>VLINE</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#controller-type">Controller Type</a></td><td>Active controller type ID</td><td align="left">64352</td><td align="left">FB60</td><td><code>INPUT_TYPE</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#controller-graphics">Controller Graphics</a></td><td>Graphics for controller buttons</td><td align="left">64353</td><td align="left">FB61</td><td><code>INPUT_GRAPHICS</code></td><td align="left">88</td></tr>
<tr><td><a href="mem.html#controller-palette">Controller Palette</a></td><td>Palette used when drawing controller buttons</td><td align="left">64441</td><td align="left">FBB9</td><td><code>INPUT_PALETTE</code></td><td align="left">12</td></tr>
<tr><td><a href="mem.html#controller-sprite-table">Controller Sprite Table</a></td><td>Sprite table for controller buttons</td><td align="left">64453</td><td align="left">FBC5</td><td><code>INPUT_TABLE</code></td><td align="left">27</td></tr>
<tr><td><a href="mem.html#interrupt-control">Interrupt Control</a></td><td>Control byte for interrupts</td><td align="left">64480</td><td align="left">FBE0</td><td><code>IRQ_CONTROL</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#save-control">Save Control</a></td><td>Control byte for save data</td><td align="left">64481</td><td align="left">FBE1</td><td><code>SAVE_CONTROL</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#date-time">Date time</a></td><td>Date time in bytes</td><td align="left">64482</td><td align="left">FBE2</td><td><code>DATETIME</code></td><td align="left">6</td></tr>
<tr><td><a href="mem.html#rand">Rand</a></td><td>Regularly changing random value</td><td align="left">64488</td><td align="left">FBE8</td><td><code>RAND</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#wave_table">Wave Table</a></td><td>Sound wave table</td><td align="left">64489</td><td align="left">FBE9</td><td><code>WAVE_TABLE</code></td><td align="left">16</td></tr>
<tr><td><a href="mem.html#code-bank-2-id">Code Bank 2 ID</a></td><td>Controls which code bank is loaded at <a href="mem.html#code-bank-2-id">Banked Code 2</a></td><td align="left">64505</td><td align="left">FBF9</td><td><code>CODE_BANK_2_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#ram-bank-2-id">RAM Bank 2 ID</a></td><td>Controls which RAM bank is loaded at <a href="mem.html#ram-bank-2-id">Banked RAM 2</a></td><td align="left">64506</td><td align="left">FBFA</td><td><code>RAM_BANK_2_ID</code></td><td align="left">1</td></tr>
<tr><td><a href="mem.html#stack">Stack</a></td><td>The Stack</td><td align="left">64536</td><td align="left">FC18</td><td><code>STACK</code></td><td align="left">1000</td></tr>
</tbody></table>
<h2 id="code"><a class="header" href="#code">Code</a></h2>
<p><code>0</code> <code>x0</code> <code>MAIN_CODE</code> 9000 bytes</p>
<p>Interrupts call in this section, at these addresses:</p>
<table><thead><tr><th>Called when..</th><th>ASM</th><th>Address</th></tr></thead><tbody>
<tr><td>a button is pressed/released</td><td><code>IRQ_INPUT</code></td><td><code>$x200</code></td></tr>
<tr><td>after screen drawn</td><td><code>IRQ_SCREEN_DRAW</code></td><td><code>$x240</code></td></tr>
<tr><td>when a timer overflows</td><td><code>IRQ_TIMER</code></td><td><code>$x260</code></td></tr>
<tr><td>controller changes</td><td><code>IRQ_CONTROLLER</code></td><td><code>$x280</code></td></tr>
<tr><td>date time changes by more than 1 second</td><td><code>IRQ_DATETIME</code></td><td><code>$x2A0</code></td></tr>
</tbody></table>
<h2 id="banked-code-1"><a class="header" href="#banked-code-1">Banked Code 1</a></h2>
<p><code>9000</code> <code>x2328</code> <code>CODE_BANK_1</code> 4200 bytes</p>
<p>Controlled with <a href="mem.html#code-bank-1-id">Code Bank 1 ID</a></p>
<h2 id="banked-code-2"><a class="header" href="#banked-code-2">Banked Code 2</a></h2>
<p><code>13200</code> <code>x3390</code> <code>CODE_BANK_2</code> 4200 bytes</p>
<p>Controlled with <a href="mem.html#code-bank-2-id">Code Bank 2 ID</a></p>
<h2 id="ram"><a class="header" href="#ram">RAM</a></h2>
<p><code>17400</code> <code>x43F8</code> <code>RAM</code> 9000 bytes</p>
<h2 id="banked-ram-1"><a class="header" href="#banked-ram-1">Banked RAM 1</a></h2>
<p><code>26400</code> <code>x6720</code> <code>RAM_BANK_1</code> 4200 bytes</p>
<p>Controlled with <a href="mem.html#ram-bank-1-id">RAM Bank 1 ID</a></p>
<h2 id="banked-ram-2"><a class="header" href="#banked-ram-2">Banked RAM 2</a></h2>
<p><code>30600</code> <code>x7788</code> <code>RAM_BANK_2</code> 4200 bytes</p>
<p>Controlled with <a href="mem.html#ram-bank-2-id">RAM Bank 2 ID</a></p>
<h2 id="input"><a class="header" href="#input">Input</a></h2>
<p><code>$34800</code> <code>$x87F0</code> <code>INPUT</code> <code>2 bytes</code>
<code>$34800</code> <code>$x87F0</code> <code>DIR_INPUT</code> <code>1 byte</code>
<code>$34801</code> <code>$x87F1</code> <code>ACTION_INPUT</code> <code>1 byte</code></p>
<p>Bits are set to true when the button is pressed, and cleared when it's released.
This has to be polled, to get an interrupt set the input bit in <a href="mem.html#interrupt-control">Interrupt control</a> and code at <a href="mem.html#interrupt-addresses">Interrupts</a>.</p>
<h4 id="byte-0"><a class="header" href="#byte-0">Byte 0</a></h4>
<table><thead><tr><th>Bit</th><th>Name</th></tr></thead><tbody>
<tr><td>7</td><td>Up</td></tr>
<tr><td>6</td><td>Down</td></tr>
<tr><td>5</td><td>Left</td></tr>
<tr><td>4</td><td>Right</td></tr>
</tbody></table>
<h4 id="byte-1"><a class="header" href="#byte-1">Byte 1</a></h4>
<table><thead><tr><th>Bit</th><th>Name</th></tr></thead><tbody>
<tr><td>7</td><td>A</td></tr>
<tr><td>6</td><td>B</td></tr>
<tr><td>5</td><td>START</td></tr>
<tr><td>4</td><td>L</td></tr>
<tr><td>3</td><td>R</td></tr>
<tr><td>2</td><td>X</td></tr>
<tr><td>1</td><td>Y</td></tr>
</tbody></table>
<h2 id="sound"><a class="header" href="#sound">Sound</a></h2>
<p><code>34802</code> <code>x87F2</code> <code>SOUND</code> 30 bytes</p>
<p>Maikor is mostly compatible with the Gameboy sound system.</p>
<p><strong>Square 1</strong></p>
<table><thead><tr><th>Name</th><th>Address</th><th>Format</th><th>Description</th><th>Gameboy reg</th></tr></thead><tbody>
<tr><td><code>SQ1_0</code></td><td><code>87F2</code></td><td><code>-PPP NSSS</code></td><td>Sweep <strong>p</strong>eriod, <strong>N</strong>egate, <strong>S</strong>hift</td><td>NR10</td></tr>
<tr><td><code>SQ1_1</code></td><td><code>87F3</code></td><td><code>DDLL LLLL</code></td><td><strong>D</strong>uty, <strong>L</strong>ength load</td><td>NR11</td></tr>
<tr><td><code>SQ1_2</code></td><td><code>87F4</code></td><td><code>VVVV APPP</code></td><td>Starting <strong>V</strong>olume, Envelope <strong>a</strong>dd mode, <strong>p</strong>eriod</td><td>NR12</td></tr>
<tr><td><code>SQ1_3</code></td><td><code>87F5</code></td><td><code>FFFF FFFF</code></td><td><strong>F</strong>requency LSB</td><td>NR13</td></tr>
<tr><td><code>SQ1_4</code></td><td><code>87F6</code></td><td><code>TL-- -FFF</code></td><td><strong>T</strong>rigger, <strong>L</strong>ength enable, <strong>F</strong>requency MSB</td><td>NR14</td></tr>
</tbody></table>
<p><strong>Square 2</strong></p>
<table><thead><tr><th>Name</th><th>Address</th><th>Format</th><th>Description</th><th>Gameboy reg</th></tr></thead><tbody>
<tr><td><code>SQ2_1</code></td><td><code>87F8</code></td><td><code>DDLL LLLL</code></td><td><strong>D</strong>uty, <strong>L</strong>ength load</td><td>NR21</td></tr>
<tr><td><code>SQ2_2</code></td><td><code>87F9</code></td><td><code>VVVV APPP</code></td><td>Starting <strong>V</strong>olume, Envelope <strong>a</strong>dd mode, <strong>p</strong>eriod</td><td>NR22</td></tr>
<tr><td><code>SQ2_3</code></td><td><code>87FA</code></td><td><code>FFFF FFFF</code></td><td><strong>F</strong>requency LSB</td><td>NR23</td></tr>
<tr><td><code>SQ2_4</code></td><td><code>87FB</code></td><td><code>TL-- -FFF</code></td><td><strong>T</strong>rigger, <strong>L</strong>ength enable, <strong>F</strong>requency MSB</td><td>NR24</td></tr>
</tbody></table>
<p><strong>Wave</strong></p>
<table><thead><tr><th>Name</th><th>Address</th><th>Format</th><th>Description</th><th>Gameboy reg</th></tr></thead><tbody>
<tr><td><code>WC_0</code></td><td><code>87FC</code></td><td><code>E--- ----</code></td><td><strong>E</strong>nable</td><td>NR30</td></tr>
</tbody></table>
<p><strong>Noise</strong></p>
<table><thead><tr><th>Name</th><th>Address</th><th>Format</th><th>Description</th><th>Gameboy reg</th></tr></thead><tbody>
<tr><td><code>NC_0</code></td><td><code>8802</code></td><td><code>--LL LLLL</code></td><td><strong>L</strong>ength load</td><td>NR41</td></tr>
</tbody></table>
<p><strong>Control</strong></p>
<table><thead><tr><th>Name</th><th>Address</th><th>Format</th><th>Description</th><th>Gameboy reg</th></tr></thead><tbody>
<tr><td><code>SND_V</code></td><td><code>8806</code></td><td><code>-LLL -RRR</code></td><td><strong>L</strong>eft volume, <strong>R</strong>ight volume</td><td>NR50</td></tr>
<tr><td><code>SND_B</code></td><td><code>8807</code></td><td><code>LLLL RRRR</code></td><td><strong>L</strong>eft balance, <strong>R</strong> balance</td><td>NR51</td></tr>
<tr><td><code>SND_P</code></td><td><code>8808</code></td><td><code>P--- ????</code></td><td><strong>P</strong>ower</td><td>NR52</td></tr>
</tbody></table>
<h2 id="save-bank-id"><a class="header" href="#save-bank-id">Save Bank ID</a></h2>
<p><code>34832</code> <code>x8810</code> <code>SAVE_BANK_ID</code> 1 byte</p>
<p>Controls which save data bank is loaded at <a href="mem.html#save-bank">Save Bank</a>. Changing this value immediately loads the data.</p>
<p>Valid values are 0-15.</p>
<h2 id="save-bank"><a class="header" href="#save-bank">Save Bank</a></h2>
<p><code>34833</code> <code>x8811</code> <code>SAVE_BANK</code> 4096 bytes</p>
<p>Save data for the game. Games can use all bytes in all banks however they want.</p>
<p>See <a href="mem.html#save-control">Save Control</a></p>
<h2 id="atlas-1"><a class="header" href="#atlas-1">Atlas 1</a></h2>
<p><code>38929</code> <code>x9811</code> <code>ATLAS1</code> 4000 bytes</p>
<h2 id="atlas-2"><a class="header" href="#atlas-2">Atlas 2</a></h2>
<p><code>42929</code> <code>xB751</code> <code>ATLAS2</code> 4000 bytes</p>
<h2 id="atlas-3"><a class="header" href="#atlas-3">Atlas 3</a></h2>
<p><code>46929</code> <code>x9811</code> <code>ATLAS3</code> 4000 bytes</p>
<h2 id="atlas-4"><a class="header" href="#atlas-4">Atlas 4</a></h2>
<p><code>50929</code> <code>xB751</code> <code>ATLAS4</code> 4000 bytes</p>
<h2 id="palettes-1"><a class="header" href="#palettes-1">Palettes</a></h2>
<p><code>54929</code> <code>xD691</code> <code>PALETTES</code> 192 bytes</p>
<p><code>54929</code> <code>xD691</code> 48 bytes Palette 1
<code>54989</code> <code>xD6CD</code> 48 bytes Palette 2
<code>55049</code> <code>xD709</code> 48 bytes Palette 3
<code>55049</code> <code>xD709</code> 48 bytes Palette 3</p>
<p>Each palette is made of 16 3 byte RGB colors.</p>
<h2 id="sprite-table"><a class="header" href="#sprite-table">Sprite Table</a></h2>
<p><code>55121</code> <code>xD751</code> <code>SPRITE_TABLE</code> 1275 bytes</p>
<p>255 </p>
<h2 id="layer-headers"><a class="header" href="#layer-headers">Layer Headers</a></h2>
<p><code>56396</code> <code>xDC4C</code> <code>LAYER_HEADERS</code> 9 bytes</p>
<h2 id="layer-contents"><a class="header" href="#layer-contents">Layer Contents</a></h2>
<p><code>56405</code> <code>xDC55</code> <code>LAYER_CONTENTS</code> 7920 bytes</p>
<h2 id="code-bank-1-id"><a class="header" href="#code-bank-1-id">Code Bank 1 ID</a></h2>
<p><code>64325</code> <code>xFB45</code> <code>CODE_BANK_1_ID</code> 1 byte</p>
<p>Controls which code bank is loaded at <a href="mem.html#code-bank-1">Code bank 1</a>. Changing this value immediately loads the code; this is done by copying data from the bank into main memory, it takes several milliseconds.</p>
<p>Valid values are the number of code banks included in the game.</p>
<h2 id="ram-bank-1-id"><a class="header" href="#ram-bank-1-id">RAM Bank 1 ID</a></h2>
<p><code>64326</code> <code>xFB46</code> <code>RAM_BANK_1_ID</code> 1 byte</p>
<p>Controls which RAM bank is loaded at <a href="mem.html#ram-bank-1">RAM bank 1</a>. Changing this value immediately loads the data; this is done by copying data from the bank into main memory, it takes several milliseconds.</p>
<p>Valid values are the number of RAM banks requested by the game.</p>
<h2 id="atlas-1-bank-id"><a class="header" href="#atlas-1-bank-id">Atlas 1 Bank ID</a></h2>
<p><code>64327</code> <code>xFB47</code> <code>ATLAS1_BANK_ID</code> 1 byte</p>
<p>Controls which atlas bank is loaded at <a href="mem.html#atlas-1">Atlas 1</a>. Changing this value immediately loads the data.</p>
<p>Valid values are the number of atlas banks included in the game.</p>
<h2 id="atlas-2-bank-id"><a class="header" href="#atlas-2-bank-id">Atlas 2 Bank ID</a></h2>
<p><code>64328</code> <code>xFB48</code> <code>ATLAS2_BANK_ID</code> 1 byte</p>
<p>Controls which atlas bank is loaded at <a href="mem.html#atlas-2">Atlas 2</a>. Changing this value immediately loads the data.</p>
<p>Valid values are the number of atlas banks included in the game.</p>
<h2 id="sp"><a class="header" href="#sp">SP</a></h2>
<p><code>64329</code> <code>xFB49</code> <code>SP</code> 2 bytes</p>
<p>Points to the end of the <a href="mem.html#stack">Stack</a></p>
<h2 id="fp"><a class="header" href="#fp">FP</a></h2>
<p><code>64331</code> <code>xFB4B</code> <code>FP</code> 2 bytes</p>
<p>Points to the start of the current in the <a href="mem.html#stack">Stack</a></p>
<h2 id="timer-control"><a class="header" href="#timer-control">Timer Control</a></h2>
<p><code>64333</code> <code>xFB4D</code> <code>TIMER_CONTROL</code> 2 bytes</p>
<h2 id="timer-1"><a class="header" href="#timer-1">Timer 1</a></h2>
<p><code>64335</code> <code>xFB4F</code> <code>TIMER1</code> 1 byte</p>
<h2 id="timer-2"><a class="header" href="#timer-2">Timer 2</a></h2>
<p><code>64336</code> <code>xFB50</code> <code>TIMER2</code> 1 byte</p>
<h2 id="timer-3"><a class="header" href="#timer-3">Timer 3</a></h2>
<p><code>64337</code> <code>xFB51</code> <code>TIMER3</code> 1 byte</p>
<h2 id="timer-4"><a class="header" href="#timer-4">Timer 4</a></h2>
<p><code>64338</code> <code>xFB52</code> <code>TIMER4</code> 1 byte</p>
<h2 id="vline"><a class="header" href="#vline">VLine</a></h2>
<p><code>64349</code> <code>xFB5D</code> <code>VLINE</code> 1 byte</p>
<p>Line (0-159) on the screen that be drawn next. It is automatically updated by the host before it calls <code>IRQ_LINE_DRAW</code>.</p>
<h2 id="controller-type"><a class="header" href="#controller-type">Controller Type</a></h2>
<p><code>64350</code> <code>xFB5E</code> <code>INPUT_TYPE</code> 1 byte</p>
<p>ID of current active controller type.</p>
<p>This is set automatically by the host. Updating it will cause the controller graphics to load.</p>
<table><thead><tr><th>Name</th><th>Value</th><th>Description</th></tr></thead><tbody>
<tr><td>Unknown</td><td>0</td><td>Default value, graphics should match Maikor buttons</td></tr>
<tr><td>XBOX</td><td>1</td><td>XBox controller</td></tr>
<tr><td>Playstation</td><td>2</td><td>Playstation 4/5 controller</td></tr>
<tr><td>Switch</td><td>3</td><td>Switch Pro controller</td></tr>
<tr><td>Screen</td><td>4</td><td>Touch screen controls</td></tr>
<tr><td>Keyboard 1</td><td>5</td><td>WASD+IOKL keys</td></tr>
<tr><td>Keyboard 2</td><td>6</td><td>UDLR+QWAS keys</td></tr>
<tr><td>Keyboard 3</td><td>7</td><td>?+? keys</td></tr>
<tr><td>Keyboard 4</td><td>8</td><td>?+? keys</td></tr>
</tbody></table>
<h2 id="controller-graphics"><a class="header" href="#controller-graphics">Controller Graphics</a></h2>
<p><code>64351</code> <code>xFB5F</code> <code>INPUT_GRAPHICS</code> 88 bytes</p>
<h2 id="controller-palette"><a class="header" href="#controller-palette">Controller Palette</a></h2>
<p><code>64439</code> <code>xFBB7</code> <code>INPUT_PALETTE</code> 12 bytes</p>
<h2 id="controller-sprite-table"><a class="header" href="#controller-sprite-table">Controller Sprite Table</a></h2>
<p><code>64451</code> <code>xFBC3</code> <code>INPUT_TABLE</code> 24 bytes</p>
<h2 id="interrupt-control"><a class="header" href="#interrupt-control">Interrupt Control</a></h2>
<p><code>64475</code> <code>xFBDB</code> <code>IRQ_CONTROL</code> 1 byte</p>
<p>Control byte for interrupts, if a bit is set then that interrupt can be called.</p>
<table><thead><tr><th>Name</th><th>Bit</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>Input</td><td>0</td><td>1</td><td>Call <code>IRQ_INPUT</code> when <a href="mem.html#input">Input</a> changes</td></tr>
<tr><td>Line Drawn</td><td>1</td><td>0</td><td>Call <code>IRQ_LINE_DRAW</code> when a line has been drawn to the screen</td></tr>
<tr><td>Screen Drawn</td><td>2</td><td>0</td><td>Call <code>IRQ_SCREEN_DRAW</code> when last last has been drawn to the screen</td></tr>
<tr><td>Timer</td><td>3</td><td>0</td><td>Call <code>IRQ_TIMER</code> when any timer overflows</td></tr>
<tr><td>Controller Changed</td><td>4</td><td>0</td><td>Call <code>IRQ_CONTROLLER</code> when the controller type changes</td></tr>
</tbody></table>
<h2 id="save-control"><a class="header" href="#save-control">Save Control</a></h2>
<p><code>64476</code> <code>xFBDC</code> <code>SAVE_CONTROL</code> 1 byte</p>
<table><thead><tr><th>Name</th><th>Bit</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>Auto save</td><td>4</td><td>0</td><td>When set, any value written to <a href="mem.html#save-bank">Save Bank</a> is also written to disk</td></tr>
<tr><td>Write</td><td>0</td><td>0</td><td>When set, the host will write <a href="mem.html#save-bank">Save Bank</a> to disk and then clear the bit. If it remains set then the save fail, and may be retried (although most likely the issue will be permissions, etc and retrying won't help)</td></tr>
</tbody></table>
<h2 id="date-time"><a class="header" href="#date-time">Date time</a></h2>
<p><code>64477</code> <code>xFBDD</code> <code>DATETIME</code> 6 bytes</p>
<p>This updates during each second and so may be up to 1 second off.</p>
<table><thead><tr><th>Name</th><th>Byte</th><th>Range</th><th>Description</th></tr></thead><tbody>
<tr><td>Year</td><td>0</td><td>0-255</td><td>Covers years 2000-2255</td></tr>
<tr><td>Month</td><td>1</td><td>1-12</td><td>January = 1, December = 12</td></tr>
<tr><td>Day</td><td>2</td><td>1-31</td><td>Day of month</td></tr>
<tr><td>Hour</td><td>3</td><td>0-23</td><td>Hour of day</td></tr>
<tr><td>Minute</td><td>4</td><td>0-59</td><td>Minute of hour</td></tr>
<tr><td>Second</td><td>5</td><td>0-59</td><td>Second of minute</td></tr>
</tbody></table>
<h2 id="rand"><a class="header" href="#rand">Rand</a></h2>
<p><code>64483</code> <code>xFBE3</code> <code>RAND</code> 1 byte</p>
<p>This byte contains a random value that updates regularly. It should not be used for secure/cryptographic purposes.</p>
<h2 id="code-bank-2-id"><a class="header" href="#code-bank-2-id">Code Bank 2 ID</a></h2>
<p><code>64325</code> <code>xFB45</code> <code>CODE_BANK_2_ID</code> 1 byte</p>
<p>Controls which code bank is loaded at <a href="mem.html#code-bank-2">Code bank 2</a>. Changing this value immediately loads the code; this is done by copying data from the bank into main memory, it takes several milliseconds.</p>
<p>Valid values are the number of code banks included in the game.</p>
<h2 id="ram-bank-2-id"><a class="header" href="#ram-bank-2-id">RAM Bank 2 ID</a></h2>
<p><code>64326</code> <code>xFB46</code> <code>RAM_BANK_2_ID</code> 1 byte</p>
<p>Controls which RAM bank is loaded at <a href="mem.html#ram-bank-2">RAM bank 2</a>. Changing this value immediately loads the data; this is done by copying data from the bank into main memory, it takes several milliseconds.</p>
<p>Valid values are the number of RAM banks requested by the game.</p>
<h2 id="stack"><a class="header" href="#stack">Stack</a></h2>
<p><code>64635</code> <code>xFC71</code> <code>STACK</code> 900 bytes</p>
<p>The stack grows upwards from xFC71 to xFFFF.</p>
<h2 id="reserved"><a class="header" href="#reserved">Reserved</a></h2>
<p><code>64327</code> <code>xFB47</code> <code>-</code> 10 bytes
<code>64465</code> <code>xFBE4</code> <code>-</code> 151 bytes</p>
<p>Do not change or rely on values in this space.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stack-1"><a class="header" href="#stack-1">Stack</a></h1>
<p>The stack is made of frames, a frame is created after each CALL.</p>
<p>The stack starts at <code>64635</code> <code>xFC71</code> <code>STACK</code> and grows upwards to xFFFF.</p>
<p>The VM will fail if:</p>
<ul>
<li>SP (<code>64329</code> <code>xFB49</code> <code>SP</code>) is xFFFE and any PUSH or CALL occurs</li>
<li>FP (<code>64331</code> <code>xFB4B</code> <code>FP</code>) is xFC71 and any POP occurs</li>
<li>SP (<code>64329</code> <code>xFB49</code> <code>SP</code>) is xFC71 and any RET occurs</li>
</ul>
<p>Except on the first call, FP will be set to the old SP value. SP always points to next byte to be written in the stack.</p>
<p>The first 4 bytes of each frame (except the first), will be the old FP and the address of the instruction after the CALL.</p>
<p>With the program </p>
<pre><code>0000 CALL $x1000
0256 RET
1000 PUSH.B 15
1002 CALL $x256
1005 RET
</code></pre>
<p>Initial:</p>
<table><thead><tr><th>Address</th><th>Value</th></tr></thead><tbody>
<tr><td>PC</td><td><code>0000</code></td></tr>
<tr><td>FP</td><td><code>0000</code></td></tr>
<tr><td>SP</td><td><code>FC71</code></td></tr>
<tr><td>Stack</td><td><code>-</code></td></tr>
</tbody></table>
<p>After <code>CALL $x1000</code>:</p>
<table><thead><tr><th>Address</th><th>Value</th></tr></thead><tbody>
<tr><td>PC</td><td><code>1000</code></td></tr>
<tr><td>FP</td><td><code>FC71</code></td></tr>
<tr><td>SP</td><td><code>FC75</code></td></tr>
<tr><td>Stack</td><td><code>00 00 00 03</code></td></tr>
</tbody></table>
<p>After <code>PUSH.B 15</code>:</p>
<table><thead><tr><th>Address</th><th>Value</th></tr></thead><tbody>
<tr><td>PC</td><td><code>1002</code></td></tr>
<tr><td>FP</td><td><code>FC71</code></td></tr>
<tr><td>SP</td><td><code>FC76</code></td></tr>
<tr><td>Stack</td><td><code>00 00 00 03 15</code></td></tr>
</tbody></table>
<p>After <code>CALL $x256</code>:</p>
<table><thead><tr><th>Address</th><th>Value</th></tr></thead><tbody>
<tr><td>PC</td><td><code>256</code></td></tr>
<tr><td>FP</td><td><code>FC76</code></td></tr>
<tr><td>SP</td><td><code>FC7A</code></td></tr>
<tr><td>Stack</td><td><code>00 00 00 03 15 FC 71 10 05</code></td></tr>
</tbody></table>
<p>After <code>RET</code> (at 256):</p>
<table><thead><tr><th>Address</th><th>Value</th></tr></thead><tbody>
<tr><td>PC</td><td><code>1005</code></td></tr>
<tr><td>FP</td><td><code>FC71</code></td></tr>
<tr><td>SP</td><td><code>FC76</code></td></tr>
<tr><td>Stack</td><td><code>00 00 00 03 15</code></td></tr>
</tbody></table>
<p>After <code>RET</code> (at 1005):</p>
<table><thead><tr><th>Address</th><th>Value</th></tr></thead><tbody>
<tr><td>PC</td><td><code>0003</code></td></tr>
<tr><td>FP</td><td><code>0000</code></td></tr>
<tr><td>SP</td><td><code>FC71</code></td></tr>
<tr><td>Stack</td><td><code>-</code></td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="game-file"><a class="header" href="#game-file">Game File</a></h1>
<p>Files must be between 12811 and 3248327 bytes.</p>
<h3 id="format"><a class="header" href="#format">Format</a></h3>
<table><thead><tr><th>Name</th><th>Description</th><th>Length</th><th align="center">Full file only</th></tr></thead><tbody>
<tr><td>File format ID</td><td>Identifies this file as a Maikor game file</td><td>2</td><td align="center"></td></tr>
<tr><td>File format version</td><td>Version of game file format</td><td>1</td><td align="center"></td></tr>
<tr><td>Min Maikor Version</td><td>Minimum supported Maikor version for game</td><td>2</td><td align="center"></td></tr>
<tr><td>Target Maikor Version</td><td>Version of Maikor game was compiled for</td><td>2</td><td align="center"></td></tr>
<tr><td>Build</td><td>Build number of the game, must be at least 1</td><td>4</td><td align="center"></td></tr>
<tr><td>ID Length</td><td>Length in bytes of game ID</td><td>1</td><td align="center"></td></tr>
<tr><td>ID</td><td>Game ID text</td><td>1 - 255</td><td align="center"></td></tr>
<tr><td>Name Length</td><td>Length in bytes of game name</td><td>1</td><td align="center"></td></tr>
<tr><td>Name</td><td>Game name text</td><td>1 - 255</td><td align="center"></td></tr>
<tr><td>Version Length</td><td>Length in bytes of game version</td><td>1</td><td align="center"></td></tr>
<tr><td>Version</td><td>Game version text</td><td>1 - 255</td><td align="center"></td></tr>
<tr><td>Author Length</td><td>Length in bytes of game author</td><td>1</td><td align="center"></td></tr>
<tr><td>Author</td><td>Game author text</td><td>1 - 255</td><td align="center"></td></tr>
<tr><td>Code Bank count</td><td>Number of code banks, not including main code</td><td>1</td><td align="center"></td></tr>
<tr><td>RAM Bank count</td><td>Number of required RAM banks</td><td>1</td><td align="center"></td></tr>
<tr><td>Atlas Bank count</td><td>Number of atlas banks</td><td>1</td><td align="center"></td></tr>
<tr><td>Controller graphics bank count</td><td>Number of controller graphics banks</td><td>1</td><td align="center"></td></tr>
<tr><td>Main code</td><td>Main code data</td><td>8700</td><td align="center">✓</td></tr>
<tr><td>Code banks</td><td>Up to 255 code banks</td><td>0 - 2218500</td><td align="center">✓</td></tr>
<tr><td>Atlas banks</td><td>Between 1 and 255 atlas banks</td><td>4000 - 1020000</td><td align="center">✓</td></tr>
<tr><td>Controller graphics banks</td><td>9 controller graphics banks</td><td>88</td><td align="center">✓</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h2 id="possible-register-values"><a class="header" href="#possible-register-values">Possible Register Values</a></h2>
<h4 id="decimal"><a class="header" href="#decimal">Decimal</a></h4>
<table><thead><tr><th align="center">Reg</th><th align="center">Direct</th><th align="center">Indirect</th><th align="center">Pre Dec</th><th align="center">Pre Inc</th><th align="center">Post Dec</th><th align="center">Post Inc</th><th align="center">Ind Pre Dec</th><th align="center">Ind Pre Inc</th><th align="center">Ind Post Dec</th><th align="center">Ind Post Inc</th><th align="center">Offset with Reg</th><th align="center">Offset with Ext Reg</th><th align="center">Offset with number</th></tr></thead><tbody>
<tr><td align="center">AH</td><td align="center">0</td><td align="center">-</td><td align="center">112</td><td align="center">96</td><td align="center">80</td><td align="center">64</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">AL</td><td align="center">1</td><td align="center">-</td><td align="center">113</td><td align="center">97</td><td align="center">81</td><td align="center">65</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">BH</td><td align="center">2</td><td align="center">-</td><td align="center">114</td><td align="center">98</td><td align="center">82</td><td align="center">66</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">BL</td><td align="center">3</td><td align="center">-</td><td align="center">115</td><td align="center">99</td><td align="center">83</td><td align="center">67</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">CH</td><td align="center">4</td><td align="center">-</td><td align="center">116</td><td align="center">100</td><td align="center">84</td><td align="center">68</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">CL</td><td align="center">5</td><td align="center">-</td><td align="center">117</td><td align="center">101</td><td align="center">85</td><td align="center">69</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">DH</td><td align="center">6</td><td align="center">-</td><td align="center">118</td><td align="center">102</td><td align="center">86</td><td align="center">70</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">DL</td><td align="center">7</td><td align="center">-</td><td align="center">119</td><td align="center">103</td><td align="center">87</td><td align="center">71</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">FLG</td><td align="center">8</td><td align="center">-</td><td align="center">120</td><td align="center">104</td><td align="center">88</td><td align="center">72</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">AX</td><td align="center">9</td><td align="center">137</td><td align="center">121</td><td align="center">105</td><td align="center">89</td><td align="center">73</td><td align="center">249</td><td align="center">233</td><td align="center">217</td><td align="center">201</td><td align="center">153</td><td align="center">169</td><td align="center">185</td></tr>
<tr><td align="center">BX</td><td align="center">10</td><td align="center">138</td><td align="center">122</td><td align="center">106</td><td align="center">90</td><td align="center">74</td><td align="center">250</td><td align="center">234</td><td align="center">218</td><td align="center">202</td><td align="center">154</td><td align="center">170</td><td align="center">186</td></tr>
<tr><td align="center">CX</td><td align="center">11</td><td align="center">139</td><td align="center">123</td><td align="center">107</td><td align="center">91</td><td align="center">75</td><td align="center">251</td><td align="center">235</td><td align="center">219</td><td align="center">203</td><td align="center">155</td><td align="center">171</td><td align="center">187</td></tr>
<tr><td align="center">DX</td><td align="center">12</td><td align="center">140</td><td align="center">124</td><td align="center">108</td><td align="center">92</td><td align="center">76</td><td align="center">252</td><td align="center">236</td><td align="center">220</td><td align="center">204</td><td align="center">156</td><td align="center">172</td><td align="center">188</td></tr>
</tbody></table>
<h4 id="hexadecimal"><a class="header" href="#hexadecimal">Hexadecimal</a></h4>
<table><thead><tr><th align="center">Reg</th><th align="center">Direct</th><th align="center">Indirect</th><th align="center">Pre Dec</th><th align="center">Pre Inc</th><th align="center">Post Dec</th><th align="center">Post Inc</th><th align="center">Ind Pre Dec</th><th align="center">Ind Pre Inc</th><th align="center">Ind Post Dec</th><th align="center">Ind Post Inc</th><th align="center">Offset with Reg</th><th align="center">Offset with Ext Reg</th><th align="center">Offset with number</th></tr></thead><tbody>
<tr><td align="center">AH</td><td align="center">00</td><td align="center">-</td><td align="center">70</td><td align="center">60</td><td align="center">50</td><td align="center">40</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">AL</td><td align="center">01</td><td align="center">-</td><td align="center">71</td><td align="center">61</td><td align="center">51</td><td align="center">41</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">BH</td><td align="center">02</td><td align="center">-</td><td align="center">72</td><td align="center">62</td><td align="center">52</td><td align="center">42</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">BL</td><td align="center">03</td><td align="center">-</td><td align="center">73</td><td align="center">63</td><td align="center">53</td><td align="center">43</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">CH</td><td align="center">04</td><td align="center">-</td><td align="center">74</td><td align="center">64</td><td align="center">54</td><td align="center">44</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">CL</td><td align="center">05</td><td align="center">-</td><td align="center">75</td><td align="center">65</td><td align="center">55</td><td align="center">45</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">DH</td><td align="center">06</td><td align="center">-</td><td align="center">76</td><td align="center">66</td><td align="center">56</td><td align="center">46</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">DL</td><td align="center">07</td><td align="center">-</td><td align="center">77</td><td align="center">67</td><td align="center">57</td><td align="center">47</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">FLG</td><td align="center">08</td><td align="center">-</td><td align="center">78</td><td align="center">68</td><td align="center">58</td><td align="center">48</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
<tr><td align="center">AX</td><td align="center">09</td><td align="center">89</td><td align="center">79</td><td align="center">69</td><td align="center">59</td><td align="center">49</td><td align="center">F9</td><td align="center">E9</td><td align="center">D9</td><td align="center">C9</td><td align="center">99</td><td align="center">A9</td><td align="center">B9</td></tr>
<tr><td align="center">BX</td><td align="center">0A</td><td align="center">8A</td><td align="center">7A</td><td align="center">6A</td><td align="center">5A</td><td align="center">4A</td><td align="center">FA</td><td align="center">EA</td><td align="center">DA</td><td align="center">CA</td><td align="center">9A</td><td align="center">AA</td><td align="center">BA</td></tr>
<tr><td align="center">CX</td><td align="center">0B</td><td align="center">8B</td><td align="center">7B</td><td align="center">6B</td><td align="center">5B</td><td align="center">4B</td><td align="center">FB</td><td align="center">EB</td><td align="center">DB</td><td align="center">CB</td><td align="center">9B</td><td align="center">AB</td><td align="center">BB</td></tr>
<tr><td align="center">DX</td><td align="center">0C</td><td align="center">8C</td><td align="center">7C</td><td align="center">6C</td><td align="center">5C</td><td align="center">4C</td><td align="center">FC</td><td align="center">EC</td><td align="center">DC</td><td align="center">CC</td><td align="center">9C</td><td align="center">AC</td><td align="center">BC</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="instructions-1"><a class="header" href="#instructions-1">Instructions</a></h1>
<blockquote>
<p>Also called commands, operations and ops</p>
</blockquote>
<h2 id="arguments"><a class="header" href="#arguments">Arguments</a></h2>
<blockquote>
<p>Also called args and params, operands</p>
</blockquote>
<table><thead><tr><th>Key</th><th>Name</th><th>Examples</th><th>Bytes</th></tr></thead><tbody>
<tr><td><code>R</code></td><td>Register</td><td><code>AL</code>, <code>CH</code></td><td>1</td></tr>
<tr><td><code>E</code></td><td>Extended Register</td><td><code>BX</code>, <code>CX</code></td><td>1</td></tr>
<tr><td><code>I</code></td><td>Indirect Register</td><td><code>(AX)</code>, <code>(BX)</code></td><td>1</td></tr>
<tr><td><code>B</code></td><td>Byte</td><td><code>45</code>, <code>xF1</code></td><td>1</td></tr>
<tr><td><code>W</code></td><td>Word</td><td><code>451</code>, <code>x3A0</code></td><td>2</td></tr>
<tr><td><code>A</code></td><td>Address</td><td><code>$1102</code>,<code>$xFF12</code></td><td>2</td></tr>
</tbody></table>
<h3 id="ppid-1"><a class="header" href="#ppid-1">PPID</a></h3>
<blockquote>
<p>Pre/Post Inc/Dec</p>
</blockquote>
<p>PPID allowed you to increment decrement a register before or after using that register in an op.</p>
<p>Registers are changed by 1 and extended/indirect registers are changed by 2.</p>
<p>For example, with</p>
<pre><code>CPY.W AX 1000
INC.B -(AX)
</code></pre>
<ul>
<li><code>AX</code> is set to 1000</li>
<li><code>AX</code> is set to 998</li>
<li>The value at <code>$998</code> is incremented </li>
</ul>
<p>and with</p>
<pre><code>CPY.B AL 5
CPY.B AH AL-
</code></pre>
<ul>
<li><code>AL</code> is set to 5</li>
<li><code>AH</code> is set to 5</li>
<li><code>AL</code> is set to 4</li>
</ul>
<p>PPID works on any <code>R</code>, <code>E</code>, or <code>I</code> args in any instruction. Increments and decrements are wrapping, and the flags are set based on the result of an operation before the post inc/dec changes.</p>
<h2 id="cycles"><a class="header" href="#cycles">Cycles</a></h2>
<p>Each instruction has a base time cost shown below and on the instruction pages. Using index addressing adds the following cost:</p>
<table><thead><tr><th>Variant</th><th>Cost</th><th>Example</th></tr></thead><tbody>
<tr><td>with reg</td><td>1</td><td><code>(ax+al)</code></td></tr>
<tr><td>with ext reg</td><td>2</td><td><code>(ax+bx)</code></td></tr>
<tr><td>with num</td><td>0</td><td><code>(ax+10)</code></td></tr>
</tbody></table>
<p>The cycles can be calculated by adding the cost of the arguments:</p>
<table><thead><tr><th>Argument type</th><th>Size</th></tr></thead><tbody>
<tr><td>Register</td><td>1</td></tr>
<tr><td>Ext. Register</td><td>2</td></tr>
<tr><td>Indirect Register</td><td>3</td></tr>
<tr><td>Byte</td><td>1</td></tr>
<tr><td>Word</td><td>2</td></tr>
<tr><td>Address</td><td>2*</td></tr>
</tbody></table>
<p>Note that these apply when reading and writing, so <code>INC.B AL</code> costs 2 as it has to read and write <code>AL</code>.</p>
<p>As this is a VM the costs are approximated based on instruction execution duration. </p>
<ul>
<li>if the address is a bank controller, etc then this cost is 20.</li>
</ul>
<h2 id="size"><a class="header" href="#size">Size</a></h2>
<p>Each instruction also has a base size in bytes, shown each page. Using index addressing adds the following size:</p>
<table><thead><tr><th>Variant</th><th>Size</th></tr></thead><tbody>
<tr><td>with reg</td><td>1</td></tr>
<tr><td>with ext reg</td><td>1</td></tr>
<tr><td>with num</td><td>2</td></tr>
</tbody></table>
<p>The size can be calculated by adding the size of the arguments:</p>
<table><thead><tr><th>Argument type</th><th>Size</th></tr></thead><tbody>
<tr><td>Register</td><td>1</td></tr>
<tr><td>Ext. Register</td><td>1</td></tr>
<tr><td>Indirect Register</td><td>1</td></tr>
<tr><td>Byte</td><td>1</td></tr>
<tr><td>Word</td><td>2</td></tr>
<tr><td>Address</td><td>2</td></tr>
</tbody></table>
<p>The instruction is always 1 byte.</p>
<p><strong>Examples</strong></p>
<table><thead><tr><th>Example</th><th>Size</th><th>Cycles</th></tr></thead><tbody>
<tr><td><code>INC.B AL</code></td><td>2</td><td>2</td></tr>
<tr><td><code>ADD.W AX, 30</code></td><td>4</td><td>4</td></tr>
<tr><td><code>SWAP.B (AX+1), (BX+AL)</code></td><td>6</td><td>20</td></tr>
</tbody></table>
<h2 id="instruction-list"><a class="header" href="#instruction-list">Instruction List</a></h2>
<table><thead><tr><th>Name</th><th>Size variants</th><th>Args</th><th>Base cycles</th></tr></thead><tbody>
<tr><td><a href="./ops/inc.html">INC</a></td><td><code>B</code>, <code>W</code></td><td><code>(R)</code>, <code>(E)</code>, <code>(I)</code>, <code>(A)</code></td><td>2-8</td></tr>
<tr><td><a href="./ops/dec.html">DEC</a></td><td><code>B</code>, <code>W</code></td><td><code>(R)</code>, <code>(E)</code>, <code>(I)</code>, <code>(A)</code></td><td>2-8</td></tr>
<tr><td><a href="./ops/swap.html">SWAP</a></td><td><code>B</code>, <code>W</code></td><td><code>(R,R)</code>, <code>(R,I)</code>, <code>(I,R)</code>, <code>(I,I)</code>, <code>(E,E)</code>, <code>(E,I)</code>, <code>(I,E)</code></td><td>1-16</td></tr>
<tr><td><a href="./ops/add.html">ADD</a></td><td><code>B</code>, <code>W</code></td><td><code>(R,B)</code>, <code>(R,R)</code>, <code>(R,I)</code>, <code>(I,R)</code>, <code>(I,I)</code>, <code>(R,A)</code>, <code>(I,A)</code>, <code>(A,I)</code>, <code>(A,R)</code>, <code>(A,B)</code>, <code>(E,W)</code>, <code>(E,E)</code>, <code>(E,I)</code>, <code>(I,E)</code>, <code>(A,E)</code>, <code>(A,A)</code>, <code>(A,W)</code>, <code>(E,A)</code>, <code>(I,B)</code>, <code>(I,W)</code></td><td>2-12</td></tr>
<tr><td><a href="./ops/sub.html">SUB</a></td><td><code>B</code>, <code>W</code></td><td><code>(R,B)</code>, <code>(R,R)</code>, <code>(R,I)</code>, <code>(I,R)</code>, <code>(I,I)</code>, <code>(R,A)</code>, <code>(I,A)</code>, <code>(A,I)</code>, <code>(A,R)</code>, <code>(A,B)</code>, <code>(E,W)</code>, <code>(E,E)</code>, <code>(E,I)</code>, <code>(I,E)</code>, <code>(A,E)</code>, <code>(A,A)</code>, <code>(A,W)</code>, <code>(E,A)</code>, <code>(I,B)</code>, <code>(I,W)</code></td><td>2-12</td></tr>
<tr><td><a href="./ops/mul.html">MUL</a></td><td><code>B</code>, <code>W</code></td><td><code>(R,B)</code>, <code>(R,R)</code>, <code>(R,I)</code>, <code>(I,R)</code>, <code>(I,I)</code>, <code>(R,A)</code>, <code>(I,A)</code>, <code>(A,I)</code>, <code>(A,R)</code>, <code>(A,B)</code>, <code>(E,W)</code>, <code>(E,E)</code>, <code>(E,I)</code>, <code>(I,E)</code>, <code>(A,E)</code>, <code>(A,A)</code>, <code>(A,W)</code>, <code>(E,A)</code>, <code>(I,B)</code>, <code>(I,W)</code></td><td>2-12</td></tr>
<tr><td><a href="./ops/div.html">DIV</a></td><td><code>B</code>, <code>W</code></td><td><code>(R,B)</code>, <code>(R,R)</code>, <code>(R,I)</code>, <code>(I,R)</code>, <code>(I,I)</code>, <code>(R,A)</code>, <code>(I,A)</code>, <code>(A,I)</code>, <code>(A,R)</code>, <code>(A,B)</code>, <code>(E,W)</code>, <code>(E,E)</code>, <code>(E,I)</code>, <code>(I,E)</code>, <code>(A,E)</code>, <code>(A,A)</code>, <code>(A,W)</code>, <code>(E,A)</code>, <code>(I,B)</code>, <code>(I,W)</code></td><td>2-12</td></tr>
<tr><td><a href="./ops/muls.html">MULS</a></td><td><code>B</code>, <code>W</code></td><td><code>(R,B)</code>, <code>(R,R)</code>, <code>(R,I)</code>, <code>(I,R)</code>, <code>(I,I)</code>, <code>(R,A)</code>, <code>(I,A)</code>, <code>(A,I)</code>, <code>(A,R)</code>, <code>(A,B)</code>, <code>(E,W)</code>, <code>(E,E)</code>, <code>(E,I)</code>, <code>(I,E)</code>, <code>(A,E)</code>, <code>(A,A)</code>, <code>(A,W)</code>, <code>(E,A)</code>, <code>(I,B)</code>, <code>(I,W)</code></td><td>2-12</td></tr>
<tr><td><a href="./ops/divs.html">DIVS</a></td><td><code>B</code>, <code>W</code></td><td><code>(R,B)</code>, <code>(R,R)</code>, <code>(R,I)</code>, <code>(I,R)</code>, <code>(I,I)</code>, <code>(R,A)</code>, <code>(I,A)</code>, <code>(A,I)</code>, <code>(A,R)</code>, <code>(A,B)</code>, <code>(E,W)</code>, <code>(E,E)</code>, <code>(E,I)</code>, <code>(I,E)</code>, <code>(A,E)</code>, <code>(A,A)</code>, <code>(A,W)</code>, <code>(E,A)</code>, <code>(I,B)</code>, <code>(I,W)</code></td><td>2-12</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inc"><a class="header" href="#inc">INC</a></h1>
<blockquote>
<p>Increment</p>
</blockquote>
<p>Increases value in register or value at memory address in pointer by 1.</p>
<h2 id="format-1"><a class="header" href="#format-1">Format</a></h2>
<p><code>INC value</code></p>
<h2 id="variations"><a class="header" href="#variations">Variations</a></h2>
<pre><code>INC.B (R) (I) (A)
INC.W (E) (I) (A)
</code></pre>
<h4 id="incb"><a class="header" href="#incb">INC.B</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th><th>Size</th><th>Byte order</th></tr></thead><tbody>
<tr><td>2C</td><td>Register</td><td>2</td><td>1</td><td>reg(1)</td></tr>
<tr><td>2C</td><td>Indirect</td><td>6</td><td>1 - 3</td><td>reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>2E</td><td>Address</td><td>2</td><td>2</td><td>addr(2)</td></tr>
</tbody></table>
<h4 id="incw"><a class="header" href="#incw">INC.W</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th><th>Size</th><th>Byte order</th></tr></thead><tbody>
<tr><td>2D</td><td>Ext. Register</td><td>4</td><td>1</td><td>reg(1)</td></tr>
<tr><td>2D</td><td>Indirect</td><td>8</td><td>1 - 3</td><td>reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>2F</td><td>Address</td><td>4</td><td>2</td><td>addr(2)</td></tr>
</tbody></table>
<h2 id="flags"><a class="header" href="#flags">Flags</a></h2>
<p>No changes</p>
<h2 id="code-equivalent"><a class="header" href="#code-equivalent">Code equivalent</a></h2>
<pre><code>value++
</code></pre>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<pre><code>INC.B AL      # Increase AL by 1
INC.B $6003   # Increase value at 6003 by 1
INC.B (AX)    # Increase value at address in AX by 1
INC.W AX      # Increase AX by 1
INC.W $6700   # Increase value at [6700,6701] by 1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dec"><a class="header" href="#dec">DEC</a></h1>
<blockquote>
<p>Decrement</p>
</blockquote>
<p>Decreases value in register or value at memory address in pointer by 1.</p>
<h2 id="format-2"><a class="header" href="#format-2">Format</a></h2>
<p><code>DEC value</code></p>
<h2 id="variations-1"><a class="header" href="#variations-1">Variations</a></h2>
<pre><code>DEC.B (R) (I) (A)
DEC.W (E) (I) (A)
</code></pre>
<h4 id="decb"><a class="header" href="#decb">DEC.B</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th><th>Size</th><th>Byte order</th></tr></thead><tbody>
<tr><td>2C</td><td>Register</td><td>2</td><td>1</td><td>reg(1)</td></tr>
<tr><td>2C</td><td>Indirect</td><td>6</td><td>1 - 3</td><td>reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>2E</td><td>Address</td><td>2</td><td>2</td><td>addr(2)</td></tr>
</tbody></table>
<h4 id="decw"><a class="header" href="#decw">DEC.W</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th><th>Size</th><th>Byte order</th></tr></thead><tbody>
<tr><td>2D</td><td>Ext. Register</td><td>4</td><td>1</td><td>reg(1)</td></tr>
<tr><td>2D</td><td>Indirect</td><td>8</td><td>1 - 3</td><td>reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>2F</td><td>Address</td><td>4</td><td>2</td><td>addr(2)</td></tr>
</tbody></table>
<h2 id="flags-1"><a class="header" href="#flags-1">Flags</a></h2>
<p>No changes</p>
<h2 id="code-equivalent-1"><a class="header" href="#code-equivalent-1">Code equivalent</a></h2>
<pre><code>value++
</code></pre>
<h2 id="examples-1"><a class="header" href="#examples-1">Examples</a></h2>
<pre><code>DEC.B AL      # Decrease AL by 1
DEC.B $6003   # Decrease value at 6003 by 1
DEC.B (AX)    # Decrease value at address in AX by 1
DEC.W AX      # Decrease AX by 1
DEC.W $6700   # Decrease value at [6700,6701] by 1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="swap"><a class="header" href="#swap">SWAP</a></h1>
<blockquote>
<p>Swap</p>
</blockquote>
<p>Swap values in registers or values at memory addresses in pointers.</p>
<h2 id="format-3"><a class="header" href="#format-3">Format</a></h2>
<p><code>SWAP lhs, rhs</code></p>
<h2 id="variations-2"><a class="header" href="#variations-2">Variations</a></h2>
<pre><code>SWAP.B (RR) (RI) (IR) (II)
SWAP.W (EE) (EI) (IE) (II)
</code></pre>
<h4 id="swapb"><a class="header" href="#swapb">SWAP.B</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th><th>Size</th><th>Byte order</th></tr></thead><tbody>
<tr><td>06</td><td>Register, Register</td><td>1</td><td>2</td><td>lhs(1) rhs(1)</td></tr>
<tr><td>06</td><td>Register, Indirect</td><td>8</td><td>2 - 4</td><td>lhs(1) rhs(1)  &lt;rhs offset&gt;(1-2)</td></tr>
<tr><td>06</td><td>Indirect, Register</td><td>8</td><td>2 - 4</td><td>lhs(1) rhs(1) &lt;lhs offset&gt;(1-2)</td></tr>
<tr><td>06</td><td>Indirect, Indirect</td><td>12</td><td>2 - 6</td><td>lhs(1) rhs(1) &lt;lhs offset&gt;(1-2) &lt;rhs offset&gt;(1-2)</td></tr>
</tbody></table>
<h4 id="incw-1"><a class="header" href="#incw-1">INC.W</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th><th>Size</th><th>Byte order</th></tr></thead><tbody>
<tr><td>07</td><td>Ext. Register, Ext. Register</td><td>1</td><td>2</td><td>lhs(1) rhs(1)</td></tr>
<tr><td>07</td><td>Ext. Register, Indirect</td><td>12</td><td>2 - 4</td><td>lhs(1) rhs(1)  &lt;rhs offset&gt;(1-2)</td></tr>
<tr><td>07</td><td>Indirect, Ext. Register</td><td>12</td><td>2 - 4</td><td>lhs(1) rhs(1) &lt;lhs offset&gt;(1-2)</td></tr>
<tr><td>07</td><td>Ext. Register, Ext. Register</td><td>16</td><td>2 - 6</td><td>lhs(1) rhs(1) &lt;lhs offset&gt;(1-2) &lt;rhs offset&gt;(1-2)</td></tr>
</tbody></table>
<h2 id="flags-2"><a class="header" href="#flags-2">Flags</a></h2>
<p>No changes</p>
<h2 id="code-equivalent-2"><a class="header" href="#code-equivalent-2">Code equivalent</a></h2>
<pre><code>temp = lhs
lhs = rhs
rhs = temp
</code></pre>
<h2 id="examples-2"><a class="header" href="#examples-2">Examples</a></h2>
<pre><code>SWAP.B AL, AH    # Swap values in AL and AH
SWAP.W AX, BX    # Swap values in AX and BX
SWAP.B (AX), DH  # Swap values in DH and at memory address in AX
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add"><a class="header" href="#add">ADD</a></h1>
<blockquote>
<p>Add</p>
</blockquote>
<p>Add values from destination and source together and store result in destination.</p>
<h2 id="format-4"><a class="header" href="#format-4">Format</a></h2>
<p><code>ADD dst, src</code></p>
<h2 id="variations-3"><a class="header" href="#variations-3">Variations</a></h2>
<pre><code>ADD.B (R, B) (R, R) (R, I) (I, R) (I, I) (A, I) (A, R) (A, A) (A, B) (I, A) (R, A) (I, B)
ADD.W (E, W) (E, E) (E, I) (I, E) (I, I) (A, I) (A, E) (A, A) (A, W) (I, A) (E, A) (I, W)
</code></pre>
<h4 id="incb-1"><a class="header" href="#incb-1">INC.B</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th><th>Size</th><th>Byte order</th></tr></thead><tbody>
<tr><td>22</td><td>Register, Byte</td><td>2</td><td>2</td><td>reg(1) byte(1)</td></tr>
<tr><td>20</td><td>Register, Register</td><td>3</td><td>2</td><td>reg(1) reg(1)</td></tr>
<tr><td>20</td><td>Register, Indirect</td><td>5</td><td>2 - 4</td><td>reg(1) reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>20</td><td>Indirect, Register</td><td>7</td><td>2 - 4</td><td>reg(1) reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>20</td><td>Indirect, Indirect</td><td>9</td><td>2 - 6</td><td>reg(1) reg(1) &lt;offset&gt;(1-2) &lt;offset&gt;(1-2)</td></tr>
<tr><td>26</td><td>Address, Indirect</td><td>5</td><td>3 - 5</td><td>addr(2) reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>26</td><td>Address, Register</td><td>3</td><td>3</td><td>addr(2) reg(1)</td></tr>
<tr><td>2A</td><td>Address, Address</td><td>3</td><td>4</td><td>addr(2) addr(2)</td></tr>
<tr><td>28</td><td>Address, Byte</td><td>2</td><td>3</td><td>addr(2) byte(1)</td></tr>
<tr><td>24</td><td>Indirect, Address</td><td>7</td><td>3-5</td><td>reg(1) addr(2) &lt;offset&gt;(1-2)</td></tr>
<tr><td>22</td><td>Indirect, Byte</td><td>6</td><td>2-4</td><td>reg(1) byte(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>24</td><td>Register, Address</td><td>3</td><td>3</td><td>reg(1) addr(2)</td></tr>
</tbody></table>
<h4 id="incw-2"><a class="header" href="#incw-2">INC.W</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th><th>Size</th><th>Byte order</th></tr></thead><tbody>
<tr><td>23</td><td>Ext. Register, Word</td><td>4</td><td>3</td><td>reg(1) word(2)</td></tr>
<tr><td>21</td><td>Ext. Register, Ext. Register</td><td>6</td><td>2</td><td>reg(1) reg(1)</td></tr>
<tr><td>21</td><td>Ext. Register, Indirect</td><td>8</td><td>2 - 4</td><td>reg(1) reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>21</td><td>Indirect, Ext. Register</td><td>10</td><td>2 - 4</td><td>reg(1) reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>21</td><td>Indirect, Indirect</td><td>12</td><td>2 - 6</td><td>reg(1) reg(1) &lt;offset&gt;(1-2) &lt;offset&gt;(1-2)</td></tr>
<tr><td>27</td><td>Address, Indirect</td><td>8</td><td>3 - 5</td><td>addr(2) reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>27</td><td>Address, Ext. Register</td><td>6</td><td>3</td><td>addr(2) reg(1)</td></tr>
<tr><td>2B</td><td>Address, Address</td><td>6</td><td>4</td><td>addr(2) addr(2)</td></tr>
<tr><td>29</td><td>Address, Word</td><td>4</td><td>4</td><td>addr(2) word(2)</td></tr>
<tr><td>25</td><td>Indirect, Address</td><td>10</td><td>3-5</td><td>reg(1) addr(2) &lt;offset&gt;(1-2)</td></tr>
<tr><td>23</td><td>Indirect, Word</td><td>8</td><td>3-5</td><td>reg(1) word(2) &lt;offset&gt;(1-2)</td></tr>
<tr><td>25</td><td>Ext. Register, Address</td><td>6</td><td>3</td><td>reg(1) addr(2)</td></tr>
</tbody></table>
<h2 id="flags-3"><a class="header" href="#flags-3">Flags</a></h2>
<table><thead><tr><th>Flag</th><th>Update condition</th></tr></thead><tbody>
<tr><td>Zero</td><td>Set if result is 0, otherwise cleared</td></tr>
<tr><td>Signed</td><td>Matches first bit of result</td></tr>
<tr><td>Carry</td><td>Set if result is greater 255 for <code>.B</code> or 65535 for <code>.W</code>, otherwise cleared</td></tr>
<tr><td>Less than</td><td>Always cleared</td></tr>
<tr><td>Greater than</td><td>Always cleared</td></tr>
<tr><td>Overflow</td><td>Set if the dst and result first bit are different, otherwise cleared</td></tr>
<tr><td>Interrupts</td><td>-</td></tr>
</tbody></table>
<h2 id="code-equivalent-3"><a class="header" href="#code-equivalent-3">Code equivalent</a></h2>
<pre><code>result = lhs + rhs
</code></pre>
<h2 id="examples-3"><a class="header" href="#examples-3">Examples</a></h2>
<pre><code>ADD.B AL, 5       # Store result of AL + 5 in AL
ADD.W (BX), $500  # Store the result of adding the values at the address in BX and at 500 at the address stored in BX 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sub"><a class="header" href="#sub">SUB</a></h1>
<blockquote>
<p>Subtract</p>
</blockquote>
<p>Subtract source from destination and store result in destination.</p>
<h2 id="format-5"><a class="header" href="#format-5">Format</a></h2>
<p><code>SUB dst, src</code></p>
<h2 id="variations-4"><a class="header" href="#variations-4">Variations</a></h2>
<pre><code>SUB.B (R, B) (R, R) (R, I) (I, R) (I, I) (A, I) (A, R) (A, A) (A, B) (I, A) (R, A) (I, B)
SUB.W (E, W) (E, E) (E, I) (I, E) (I, I) (A, I) (A, E) (A, A) (A, W) (I, A) (E, A) (I, W)
</code></pre>
<h4 id="incb-2"><a class="header" href="#incb-2">INC.B</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th><th>Size</th><th>Byte order</th></tr></thead><tbody>
<tr><td>32</td><td>Register, Byte</td><td>2</td><td>2</td><td>reg(1) byte(1)</td></tr>
<tr><td>30</td><td>Register, Register</td><td>3</td><td>2</td><td>reg(1) reg(1)</td></tr>
<tr><td>30</td><td>Register, Indirect</td><td>5</td><td>2 - 4</td><td>reg(1) reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>30</td><td>Indirect, Register</td><td>7</td><td>2 - 4</td><td>reg(1) reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>30</td><td>Indirect, Indirect</td><td>9</td><td>2 - 6</td><td>reg(1) reg(1) &lt;offset&gt;(1-2) &lt;offset&gt;(1-2)</td></tr>
<tr><td>36</td><td>Address, Indirect</td><td>5</td><td>3 - 5</td><td>addr(2) reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>36</td><td>Address, Register</td><td>3</td><td>3</td><td>addr(2) reg(1)</td></tr>
<tr><td>3A</td><td>Address, Address</td><td>3</td><td>4</td><td>addr(2) addr(2)</td></tr>
<tr><td>38</td><td>Address, Byte</td><td>2</td><td>3</td><td>addr(2) byte(1)</td></tr>
<tr><td>34</td><td>Indirect, Address</td><td>7</td><td>3-5</td><td>reg(1) addr(2) &lt;offset&gt;(1-2)</td></tr>
<tr><td>32</td><td>Indirect, Byte</td><td>6</td><td>2-4</td><td>reg(1) byte(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>34</td><td>Register, Address</td><td>3</td><td>3</td><td>reg(1) addr(2)</td></tr>
</tbody></table>
<h4 id="incw-3"><a class="header" href="#incw-3">INC.W</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th><th>Size</th><th>Byte order</th></tr></thead><tbody>
<tr><td>33</td><td>Ext. Register, Word</td><td>4</td><td>3</td><td>reg(1) word(2)</td></tr>
<tr><td>31</td><td>Ext. Register, Ext. Register</td><td>6</td><td>2</td><td>reg(1) reg(1)</td></tr>
<tr><td>31</td><td>Ext. Register, Indirect</td><td>8</td><td>2 - 4</td><td>reg(1) reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>31</td><td>Indirect, Ext. Register</td><td>10</td><td>2 - 4</td><td>reg(1) reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>31</td><td>Indirect, Indirect</td><td>12</td><td>2 - 6</td><td>reg(1) reg(1) &lt;offset&gt;(1-2) &lt;offset&gt;(1-2)</td></tr>
<tr><td>37</td><td>Address, Indirect</td><td>8</td><td>3 - 5</td><td>addr(2) reg(1) &lt;offset&gt;(1-2)</td></tr>
<tr><td>37</td><td>Address, Ext. Register</td><td>6</td><td>3</td><td>addr(2) reg(1)</td></tr>
<tr><td>3B</td><td>Address, Address</td><td>6</td><td>4</td><td>addr(2) addr(2)</td></tr>
<tr><td>39</td><td>Address, Word</td><td>4</td><td>4</td><td>addr(2) word(2)</td></tr>
<tr><td>35</td><td>Indirect, Address</td><td>10</td><td>3-5</td><td>reg(1) addr(2) &lt;offset&gt;(1-2)</td></tr>
<tr><td>33</td><td>Indirect, Word</td><td>8</td><td>3-5</td><td>reg(1) word(2) &lt;offset&gt;(1-2)</td></tr>
<tr><td>35</td><td>Ext. Register, Address</td><td>6</td><td>3</td><td>reg(1) addr(2)</td></tr>
</tbody></table>
<h2 id="flags-4"><a class="header" href="#flags-4">Flags</a></h2>
<table><thead><tr><th>Flag</th><th>Update condition</th></tr></thead><tbody>
<tr><td>Zero</td><td>Set if result is 0, otherwise cleared</td></tr>
<tr><td>Signed</td><td>Matches first bit of result</td></tr>
<tr><td>Carry</td><td>Set if result is greater 255 for <code>.B</code> or 65535 for <code>.W</code>, otherwise cleared</td></tr>
<tr><td>Less than</td><td>Always cleared</td></tr>
<tr><td>Greater than</td><td>Always cleared</td></tr>
<tr><td>Overflow</td><td>Set if the dst and result first bit are different, otherwise cleared</td></tr>
<tr><td>Interrupts</td><td>-</td></tr>
</tbody></table>
<h2 id="code-equivalent-4"><a class="header" href="#code-equivalent-4">Code equivalent</a></h2>
<pre><code>result = lhs - rhs
</code></pre>
<h2 id="examples-4"><a class="header" href="#examples-4">Examples</a></h2>
<pre><code>SUB.B AL, 5       # Store result of AL - 5 in AL
SUB.W (BX), $500  # Store the result of subtracting the value at 500 from the value at the address in BX and store the result at the address in BX 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mul"><a class="header" href="#mul">MUL</a></h1>
<blockquote>
<p>Multiply</p>
</blockquote>
<p>Multiply values from destination and source together and store result in destination.</p>
<h2 id="format-6"><a class="header" href="#format-6">Format</a></h2>
<p><code>MUL dst, src</code></p>
<h2 id="variations-5"><a class="header" href="#variations-5">Variations</a></h2>
<pre><code>MUL.B (R, B) (R, R) (R, I) (I, R) (I, I) (A, I) (A, R) (A, A) (A, B) (I, A) (R, A) (I, B)
MUL.W (E, W) (E, E) (E, I) (I, E) (I, I) (A, I) (A, E) (A, A) (A, W) (I, A) (E, A) (I, W)
</code></pre>
<h4 id="incb-3"><a class="header" href="#incb-3">INC.B</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th></tr></thead><tbody>
<tr><td>82</td><td>Register, Byte</td><td>2</td></tr>
<tr><td>80</td><td>Register, Register</td><td>3</td></tr>
<tr><td>80</td><td>Register, Indirect</td><td>5</td></tr>
<tr><td>80</td><td>Indirect, Register</td><td>7</td></tr>
<tr><td>80</td><td>Indirect, Indirect</td><td>9</td></tr>
<tr><td>86</td><td>Address, Indirect</td><td>5</td></tr>
<tr><td>86</td><td>Address, Register</td><td>3</td></tr>
<tr><td>8A</td><td>Address, Address</td><td>3</td></tr>
<tr><td>88</td><td>Address, Byte</td><td>2</td></tr>
<tr><td>84</td><td>Indirect, Address</td><td>7</td></tr>
<tr><td>82</td><td>Indirect, Byte</td><td>6</td></tr>
<tr><td>84</td><td>Register, Address</td><td>3</td></tr>
</tbody></table>
<h4 id="incw-4"><a class="header" href="#incw-4">INC.W</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th></tr></thead><tbody>
<tr><td>83</td><td>Ext. Register, Word</td><td>4</td></tr>
<tr><td>81</td><td>Ext. Register, Ext. Register</td><td>6</td></tr>
<tr><td>81</td><td>Ext. Register, Indirect</td><td>8</td></tr>
<tr><td>81</td><td>Indirect, Ext. Register</td><td>10</td></tr>
<tr><td>81</td><td>Indirect, Indirect</td><td>12</td></tr>
<tr><td>87</td><td>Address, Indirect</td><td>8</td></tr>
<tr><td>87</td><td>Address, Ext. Register</td><td>6</td></tr>
<tr><td>8B</td><td>Address, Address</td><td>6</td></tr>
<tr><td>89</td><td>Address, Word</td><td>4</td></tr>
<tr><td>85</td><td>Indirect, Address</td><td>10</td></tr>
<tr><td>83</td><td>Indirect, Word</td><td>8</td></tr>
<tr><td>85</td><td>Ext. Register, Address</td><td>6</td></tr>
</tbody></table>
<h2 id="flags-5"><a class="header" href="#flags-5">Flags</a></h2>
<table><thead><tr><th>Flag</th><th>Update condition</th></tr></thead><tbody>
<tr><td>Zero</td><td>Set if result is 0, otherwise cleared</td></tr>
<tr><td>Signed</td><td>Matches first bit of result</td></tr>
<tr><td>Carry</td><td>Set if result is greater 255 for <code>.B</code> or 65535 for <code>.W</code>, otherwise cleared</td></tr>
<tr><td>Less than</td><td>Always cleared</td></tr>
<tr><td>Greater than</td><td>Always cleared</td></tr>
<tr><td>Overflow</td><td>Set if the dst and result first bit are different, otherwise cleared</td></tr>
<tr><td>Interrupts</td><td>-</td></tr>
</tbody></table>
<h2 id="code-equivalent-5"><a class="header" href="#code-equivalent-5">Code equivalent</a></h2>
<pre><code>result = lhs * rhs
</code></pre>
<h2 id="examples-5"><a class="header" href="#examples-5">Examples</a></h2>
<pre><code>MUL.B AL, 5       # Store result of AL * 5 in AL
MUL.W (BX), $500  # Store the result of multiplying the values at the address in BX and at 500 at the address stored in BX 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="div"><a class="header" href="#div">DIV</a></h1>
<blockquote>
<p>Divide</p>
</blockquote>
<p>Divide destination by source and store result in destination.</p>
<h2 id="format-7"><a class="header" href="#format-7">Format</a></h2>
<p><code>DIV dst, src</code></p>
<h2 id="variations-6"><a class="header" href="#variations-6">Variations</a></h2>
<pre><code>DIV.B (R, B) (R, R) (R, I) (I, R) (I, I) (A, I) (A, R) (A, A) (A, B) (I, A) (R, A) (I, B)
DIV.W (E, W) (E, E) (E, I) (I, E) (I, I) (A, I) (A, E) (A, A) (A, W) (I, A) (E, A) (I, W)
</code></pre>
<h4 id="incb-4"><a class="header" href="#incb-4">INC.B</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th></tr></thead><tbody>
<tr><td>9A</td><td>Register, Byte</td><td>2</td></tr>
<tr><td>98</td><td>Register, Register</td><td>3</td></tr>
<tr><td>98</td><td>Register, Indirect</td><td>5</td></tr>
<tr><td>98</td><td>Indirect, Register</td><td>7</td></tr>
<tr><td>98</td><td>Indirect, Indirect</td><td>9</td></tr>
<tr><td>9E</td><td>Address, Indirect</td><td>5</td></tr>
<tr><td>9E</td><td>Address, Register</td><td>3</td></tr>
<tr><td>A2</td><td>Address, Address</td><td>3</td></tr>
<tr><td>A0</td><td>Address, Byte</td><td>2</td></tr>
<tr><td>9C</td><td>Indirect, Address</td><td>7</td></tr>
<tr><td>9A</td><td>Indirect, Byte</td><td>6</td></tr>
<tr><td>9C</td><td>Register, Address</td><td>3</td></tr>
</tbody></table>
<h4 id="incw-5"><a class="header" href="#incw-5">INC.W</a></h4>
<table><thead><tr><th>Opcode</th><th>Operands</th><th>Cycles</th></tr></thead><tbody>
<tr><td>9B</td><td>Ext. Register, Word</td><td>4</td></tr>
<tr><td>99</td><td>Ext. Register, Ext. Register</td><td>6</td></tr>
<tr><td>99</td><td>Ext. Register, Indirect</td><td>8</td></tr>
<tr><td>99</td><td>Indirect, Ext. Register</td><td>10</td></tr>
<tr><td>99</td><td>Indirect, Indirect</td><td>12</td></tr>
<tr><td>9F</td><td>Address, Indirect</td><td>8</td></tr>
<tr><td>9F</td><td>Address, Ext. Register</td><td>6</td></tr>
<tr><td>A3</td><td>Address, Address</td><td>6</td></tr>
<tr><td>A1</td><td>Address, Word</td><td>4</td></tr>
<tr><td>9D</td><td>Indirect, Address</td><td>10</td></tr>
<tr><td>9B</td><td>Indirect, Word</td><td>8</td></tr>
<tr><td>9D</td><td>Ext. Register, Address</td><td>6</td></tr>
</tbody></table>
<h2 id="flags-6"><a class="header" href="#flags-6">Flags</a></h2>
<table><thead><tr><th>Flag</th><th>Update condition</th></tr></thead><tbody>
<tr><td>Zero</td><td>Set if result is 0, otherwise cleared</td></tr>
<tr><td>Signed</td><td>Matches first bit of result</td></tr>
<tr><td>Carry</td><td>Set if result is greater 255 for <code>.B</code> or 65535 for <code>.W</code>, otherwise cleared</td></tr>
<tr><td>Less than</td><td>Always cleared</td></tr>
<tr><td>Greater than</td><td>Always cleared</td></tr>
<tr><td>Overflow</td><td>Set if the dst and result first bit are different, otherwise cleared</td></tr>
<tr><td>Interrupts</td><td>-</td></tr>
</tbody></table>
<h2 id="code-equivalent-6"><a class="header" href="#code-equivalent-6">Code equivalent</a></h2>
<pre><code>result = lhs / rhs
</code></pre>
<h2 id="examples-6"><a class="header" href="#examples-6">Examples</a></h2>
<pre><code>DIV.B AL, 5       # Store result of AL / 5 in AL
DIV.W (BX), $500  # Store the result of dividing the value at 500 from the value at the address in BX and store the result at the address in BX 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="muls"><a class="header" href="#muls">MULS</a></h1>
<blockquote>
<p>Signed multiply</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="divs"><a class="header" href="#divs">DIVS</a></h1>
<blockquote>
<p>Signed divide</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jmp"><a class="header" href="#jmp">JMP</a></h1>
<blockquote>
<p>Jump</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="je"><a class="header" href="#je">JE</a></h1>
<blockquote>
<p>Jump, if equal</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jne"><a class="header" href="#jne">JNE</a></h1>
<blockquote>
<p>Jump, if not equal</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jl"><a class="header" href="#jl">JL</a></h1>
<blockquote>
<p>Jump, if less than</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jg"><a class="header" href="#jg">JG</a></h1>
<blockquote>
<p>Jump, if greater than</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jle"><a class="header" href="#jle">JLE</a></h1>
<blockquote>
<p>Jump, if less than or equal</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jge"><a class="header" href="#jge">JGE</a></h1>
<blockquote>
<p>Jump, if greater than or equal</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jbc"><a class="header" href="#jbc">JBC</a></h1>
<blockquote>
<p>Jump, if flag not set</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jbs"><a class="header" href="#jbs">JBS</a></h1>
<blockquote>
<p>Jump, if flag set</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cmp"><a class="header" href="#cmp">CMP</a></h1>
<blockquote>
<p>Compare</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cmps"><a class="header" href="#cmps">CMPS</a></h1>
<blockquote>
<p>Signed Compare</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mswp"><a class="header" href="#mswp">MSWP</a></h1>
<blockquote>
<p>Swap memory</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mcpy"><a class="header" href="#mcpy">MCPY</a></h1>
<blockquote>
<p>Copy memory</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pop"><a class="header" href="#pop">POP</a></h1>
<blockquote>
<p>Pop</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="push"><a class="header" href="#push">PUSH</a></h1>
<blockquote>
<p>Push</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jrf"><a class="header" href="#jrf">JRF</a></h1>
<blockquote>
<p>Relative jump forward</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jrb"><a class="header" href="#jrb">JRB</a></h1>
<blockquote>
<blockquote>
<p>Relative jump backward</p>
</blockquote>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="halt"><a class="header" href="#halt">HALT</a></h1>
<blockquote>
<p>Halt</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ehalt"><a class="header" href="#ehalt">EHALT</a></h1>
<blockquote>
<p>Halt with error</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nop"><a class="header" href="#nop">NOP</a></h1>
<blockquote>
<p>No operation</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="call"><a class="header" href="#call">CALL</a></h1>
<blockquote>
<p>Call</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ret"><a class="header" href="#ret">RET</a></h1>
<blockquote>
<p>Return</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reti"><a class="header" href="#reti">RETI</a></h1>
<blockquote>
<p>Return from interrupt</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="or"><a class="header" href="#or">OR</a></h1>
<blockquote>
<p>Bitwise or</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xor"><a class="header" href="#xor">XOR</a></h1>
<blockquote>
<p>Bitwise xor</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="and"><a class="header" href="#and">AND</a></h1>
<blockquote>
<p>Bitwise and</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="not"><a class="header" href="#not">NOT</a></h1>
<blockquote>
<p>Bitwise not</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asl"><a class="header" href="#asl">ASL</a></h1>
<blockquote>
<p>Arithmetic shift left</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asr"><a class="header" href="#asr">ASR</a></h1>
<blockquote>
<p>Arithmetic shift right</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lsr"><a class="header" href="#lsr">LSR</a></h1>
<blockquote>
<p>Logical shift right</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rol"><a class="header" href="#rol">ROL</a></h1>
<blockquote>
<p>Rotate left</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ror"><a class="header" href="#ror">ROR</a></h1>
<blockquote>
<p>Rotate right</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="addc"><a class="header" href="#addc">ADDC</a></h1>
<blockquote>
<p>Add with carry</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="subc"><a class="header" href="#subc">SUBC</a></h1>
<blockquote>
<p>Subtract with carry</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
